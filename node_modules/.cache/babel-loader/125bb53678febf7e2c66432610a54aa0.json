{"ast":null,"code":"import _regeneratorRuntime from\"/Users/amandainnis/amandainnis.github.io/amandainnis.github.io/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/Users/amandainnis/amandainnis.github.io/amandainnis.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect,createRef}from\"react\";import IsLoading from\"../reusable/IsLoading\";import*as Common from\"../reusable/common\";import StockData from\"../../data/stock_data\";import ClientData from\"../../data/clientData\";import CardFooter from\"../reusable/Card-Footer\";var imgCRB=require(\"../../assets/images/crb-img.png\");var data={id:3,img:imgCRB,title:\"Pricer\",subtitle:\"Stock Pricing and Trade Execution\",blurb:[\"\"],bkgd:\"var(--crb-bkgd)\"};var allTickers=StockData.slice();function CRBCard(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),cardVisible=_useState2[0],setCardVisible=_useState2[1];var tickerInputRef=createRef();var clientInputRef=createRef();var quantityInputRef=createRef();var ddRef=createRef();var _useState3=useState(1,902.06),_useState4=_slicedToArray(_useState3,2),price=_useState4[0],setPrice=_useState4[1];var _useState5=useState(\"Amazon.com\"),_useState6=_slicedToArray(_useState5,2),tickerCompany=_useState6[0],setTickerCompany=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),ticker=_useState8[0],setTicker=_useState8[1];var _useState9=useState(\"AMZN\"),_useState10=_slicedToArray(_useState9,2),tickerInput=_useState10[0],setTickerInput=_useState10[1];var _useState11=useState(null),_useState12=_slicedToArray(_useState11,2),selectedTicker=_useState12[0],setSelectedTicker=_useState12[1];var _useState13=useState(\"BURGS\"),_useState14=_slicedToArray(_useState13,2),clientInput=_useState14[0],setClientInput=_useState14[1];var _useState15=useState(\"Burgess Hill Investment Advisors Inc\"),_useState16=_slicedToArray(_useState15,2),clientTitle=_useState16[0],setClientTitle=_useState16[1];var _useState17=useState(\"23,567\"),_useState18=_slicedToArray(_useState17,2),quantityInput=_useState18[0],setQuantityInput=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),quantityError=_useState20[0],setQuantityError=_useState20[1];var _useState21=useState(\"\"),_useState22=_slicedToArray(_useState21,2),tickerError=_useState22[0],setTickerError=_useState22[1];var _useState23=useState(\"buy\"),_useState24=_slicedToArray(_useState23,2),buySell=_useState24[0],setBuySell=_useState24[1];var _useState25=useState(\"\"),_useState26=_slicedToArray(_useState25,2),getQuantityRegular=_useState26[0],setQuantityRegular=_useState26[1];var _useState27=useState(\"\"),_useState28=_slicedToArray(_useState27,2),getQuantityHalf=_useState28[0],setQuantityHalf=_useState28[1];var _useState29=useState(\"\"),_useState30=_slicedToArray(_useState29,2),getQuantityDouble=_useState30[0],setQuantityDouble=_useState30[1];var _useState31=useState(\"\"),_useState32=_slicedToArray(_useState31,2),priceRegular=_useState32[0],setPriceRegular=_useState32[1];var _useState33=useState(\"\"),_useState34=_slicedToArray(_useState33,2),priceHalf=_useState34[0],setPriceHalf=_useState34[1];var _useState35=useState(\"\"),_useState36=_slicedToArray(_useState35,2),priceDouble=_useState36[0],setPriceDouble=_useState36[1];var _useState37=useState(\"\"),_useState38=_slicedToArray(_useState37,2),priceRegularLow=_useState38[0],setPriceRegularLow=_useState38[1];var _useState39=useState(\"\"),_useState40=_slicedToArray(_useState39,2),priceHalfLow=_useState40[0],setPriceHalfLow=_useState40[1];var _useState41=useState(\"\"),_useState42=_slicedToArray(_useState41,2),priceDoubleLow=_useState42[0],setPriceDoubleLow=_useState42[1];var _useState43=useState(true),_useState44=_slicedToArray(_useState43,2),isLoading=_useState44[0],setIsLoading=_useState44[1];var _useState45=useState(false),_useState46=_slicedToArray(_useState45,2),tickerDDVisible=_useState46[0],setTickerDDVisible=_useState46[1];var _useState47=useState(StockData),_useState48=_slicedToArray(_useState47,2),tickerDDReservoir=_useState48[0],setTickerDDReservoir=_useState48[1];var _useState49=useState(null),_useState50=_slicedToArray(_useState49,2),tickerDDFiltered=_useState50[0],setTickerDDFiltered=_useState50[1];var getTickerURL=function getTickerURL(ticker){return\"https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=\".concat(ticker,\"&interval=5min&outputsize=full&apikey=NKT90SOYWKFBP04F\");};function asyncFetch(ticker){var preRes,res,myData,myKeys,myPrice,myPriceHalf,myPriceHalfLow,myPriceDouble,myPriceDoubleLow;return _regeneratorRuntime.async(function asyncFetch$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;preRes=getTickerURL(ticker);_context.next=4;return _regeneratorRuntime.awrap(fetch(preRes));case 4:res=_context.sent;_context.next=7;return _regeneratorRuntime.awrap(res.json());case 7:myData=_context.sent;// console.log(myData);\nsetIsLoading(true);myKeys=Object.keys(myData[\"Time Series (5min)\"]);// console.log(myKeys);\nmyPrice=myData[\"Time Series (5min)\"][myKeys[0]][\"1. open\"];setPrice(myPrice.toLocaleString(\"en\",{minimumFractionDigits:2}));setPriceRegular(Math.round(myPrice*100)/100);setPriceRegularLow(Math.floor(myPrice*0.99999*100)/100);myPriceHalf=Math.ceil(myPrice*0.9*100)/100;myPriceHalfLow=Math.floor(myPrice*0.83*100)/100;setPriceHalf(myPriceHalf);setPriceHalfLow(myPriceHalfLow);myPriceDouble=Math.ceil(myPrice*1.1*100)/100;myPriceDoubleLow=Math.floor(myPrice*1.07*100)/100;setPriceDouble(myPriceDouble);setPriceDoubleLow(myPriceDoubleLow);_context.next=30;break;case 24:_context.prev=24;_context.t0=_context[\"catch\"](0);console.log(_context.t0);if(_context.t0==\"TypeError: Failed to fetch\"){setTickerError(\"Unable to fetch\");}else{setTickerError(\"Not a Ticker\");}setTicker(\"\");setPrice(null);case 30:setIsLoading(false);case 31:case\"end\":return _context.stop();}}},null,null,[[0,24]]);}function handleTickerInput(e){var tickerDDList=allTickers.slice();var myResults;var moreResults;if(e!==null||e!==\"\"){myResults=tickerDDList.filter(function(myKey){return myKey.symbol.startsWith(e.target.value.toUpperCase());});if(myResults<1){myResults=[{symbol:e.target.value,name:\"Not found\"}];}// console.log(myResults[0]);\nsetTickerInput(e.target.value);setTickerDDFiltered(myResults);}}function getPrice(val){asyncFetch(val);}function eraseTicker(){// console.log(tickerInputRef);\ntickerInputRef.current.focus();setTickerInput(\"\");setTickerCompany(\"\");setPrice(\"\");setTickerDDVisible(false);setTickerError(\"\");setBuySell(\"\");setQuantityInput(\"\");}function eraseClient(){console.log(clientInputRef);clientInputRef.current.focus();setClientInput(\"\");setClientTitle(\"\");}function handleKeyUp(e,val){// console.log(e.which);\nif(val===\"ticker\"){setTickerDDVisible(true);}else if(val===\"client\"){console.log(\"client\");// setClientDDVisible(true);\n}}function handleDDClick(val,name){console.log(val);setTickerInput(val.symbol);setTickerCompany(val.name);setTickerDDVisible(false);getPrice(val.symbol);quantityInputRef.current.focus();}function handleQtyInput(e){setQuantityInput(e.target.value);}function eraseQtyInput(){setQuantityInput(\"\");quantityInputRef.current.focus();setBuySell(\"\");}function validate(e,input){var alphaNum=/^[0-9a-zA-Z]+$/;var alpha=/^[a-zA-Z]+$/;var numsSpaceComma=/^[0-9, ]+$/;if(numsSpaceComma.test(e.target.value)){console.log(\"accepted\");setQuantityError(\"\");}else{setQuantityError(\"only numbers\");}// if (input === \"ticker\") {\n// }\n}function quantityBlur(){if(quantityInput!==\"\"){var getQuantity=parseInt(quantityInput.replace(/,/g,\"\"),10);var _getQuantityRegular=getQuantity*1;setQuantityRegular(_getQuantityRegular.toLocaleString(\"en\"));var _getQuantityHalf=Math.round(getQuantity/2);setQuantityHalf(_getQuantityHalf.toLocaleString(\"en\"));var _getQuantityDouble=getQuantity*2;setQuantityDouble(_getQuantityDouble.toLocaleString(\"en\"));setQuantityInput(getQuantity.toLocaleString(\"en\"));}else{setQuantityInput(\"\");}}function viewRole(){if(cardVisible){setCardVisible(false);}else{setCardVisible(true);}}function buySellClick(val){if(val===\"buy\"){setBuySell(\"buy\");}else{setBuySell(\"sell\");}}useEffect(function(){// resolveFetchedTicker(\"AMZN\");\nasyncFetch(\"AMZN\");quantityBlur();},[]);var tempPrice=Math.round(price*100)/100;tempPrice=tempPrice.toLocaleString(\"en\");var numPriceRegular=tempPrice.toLocaleString(\"en\",{minimumFractionDigits:2});var numPriceRegularLow=priceRegularLow.toLocaleString(\"en\",{minimumFractionDigits:2});var numPriceHalfLow=priceHalfLow.toLocaleString(\"en\",{minimumFractionDigits:2});var numPriceHalf=priceHalf.toLocaleString(\"en\",{minimumFractionDigits:2});var numPriceDoubleLow=priceDoubleLow.toLocaleString(\"en\",{minimumFractionDigits:2});var numPriceDouble=priceDouble.toLocaleString(\"en\",{minimumFractionDigits:2});var myPriceDisplay=tempPrice!==\"\"?\"$\"+tempPrice:\"\";var buySelection=buySell===\"buy\"?\"selected\":\"\";var sellSelection=buySell===\"sell\"?\"selected\":\"\";var disabledButtons=tickerInput!==\"\"&&quantityInput!==\"\"?\"\":\"disabled\";return React.createElement(\"article\",{className:\"portfolio-card\",style:{backgroundColor:data.bkgd}},React.createElement(IsLoading,{isLoading:isLoading}),cardVisible&&React.createElement(\"div\",{className:\"inner-wrapper\"},React.createElement(\"div\",{className:\"text-section\"},React.createElement(\"h1\",{className:\"title\"},data.title),React.createElement(\"h4\",{className:\"subtitle\"},data.subtitle)),React.createElement(\"div\",null,React.createElement(\"div\",{className:\"flex-row mt-3 crb-title-row align-content-end\"},React.createElement(\"div\",{className:\"ticker-title\"},tickerCompany),React.createElement(\"div\",{className:\"crb label-style ml-auto\"},\"Mkt\"),React.createElement(\"div\",{className:\"price-title\"},myPriceDisplay)),React.createElement(\"div\",{className:\"flex-row crb-top-inputs\"},tickerDDVisible&&React.createElement(\"div\",{className:\"invisible-background\",onClick:function onClick(){setTickerDDVisible(false);console.log(\"background click\");}}),React.createElement(\"div\",{className:\"input-group\"},React.createElement(\"div\",{className:\"relative\"},React.createElement(\"div\",{className:\"clearable\"},React.createElement(\"input\",{ref:tickerInputRef,className:\"input-style crb-input\",type:\"text\",placeholder:\"ticker\",name:\"tickerInput\",autoComplete:\"off\",value:tickerInput,onChange:function onChange(e){handleTickerInput(e);},onKeyUp:function onKeyUp(e){handleKeyUp(e,\"ticker\");}}),tickerInput!==\"\"?React.createElement(\"span\",{className:\"clearable-clear aicon-close\",onClick:function onClick(){eraseTicker();}}):null,tickerDDVisible&&React.createElement(\"div\",{className:\"dropdown-container crb\",ref:ddRef},tickerDDFiltered!==\"\"&&tickerDDFiltered.map(function(val,i){return React.createElement(React.Fragment,null,React.createElement(\"button\",{key:val.symbol,onClick:function onClick(e){handleDDClick(val,\"tickerInput\");},value:selectedTicker},val.symbol,\" - \",val.name));})))),React.createElement(\"div\",{className:\"error-message red-text\"},tickerError)),React.createElement(\"div\",{className:\"input-group\"},React.createElement(\"div\",{className:\"relative\"},React.createElement(\"div\",{className:\"clearable\"},React.createElement(\"input\",{id:\"qtyForTicker\",type:\"text\",ref:quantityInputRef,className:\"input-style crb-input\",placeholder:\"quantity\",value:quantityInput,onChange:function onChange(e){return handleQtyInput(e);},onKeyUp:function onKeyUp(e){return validate(e,\"quantity\");},onBlur:function onBlur(){quantityBlur();}}),quantityInput!==\"\"&&React.createElement(\"span\",{className:\"clearable-clear aicon-close\",onClick:function onClick(){return eraseQtyInput();}}))),React.createElement(\"div\",{className:\"error-message red-text\"},quantityError)),React.createElement(\"div\",{className:\"button-row flex-row justify-content-end\"},React.createElement(\"button\",{onClick:function onClick(){buySellClick(\"buy\");},disabled:disabledButtons,className:\"var(--crb-button-type) large green mr-2 crb-button \".concat(buySelection)},\"Buy\"),React.createElement(\"button\",{onClick:function onClick(){buySellClick(\"sell\");},disabled:disabledButtons,className:\"var(--crb-button-type) large red crb-button \".concat(sellSelection)},\"Sell\")))),React.createElement(\"div\",{className:\"ladder-height\"},quantityInput!==\"\"&&tickerInput!==\"\"&&buySell!==\"\"&&React.createElement(React.Fragment,null,React.createElement(\"div\",{className:\"column-header\"},React.createElement(\"div\",{className:\"quantity-section\"},\"Quantity\"),React.createElement(\"div\",{className:\"spread\"},\"Price\")),React.createElement(\"div\",{className:\"ladder \".concat(buySell)},React.createElement(\"div\",{className:\"flex-row\"},React.createElement(\"div\",{className:\"qty-section\"},getQuantityHalf),React.createElement(\"div\",{className:\"spread\"},buySell==\"buy\"&&React.createElement(\"span\",{className:\"price-ladder\"},numPriceHalfLow),buySell==\"sell\"&&React.createElement(\"span\",{className:\"price-ladder\"},numPriceHalf),React.createElement(\"span\",{className:\"dash\"}),buySell==\"buy\"&&React.createElement(\"span\",{className:\"price-ladder end\"},numPriceHalf),buySell==\"sell\"&&React.createElement(\"span\",{className:\"price-ladder end\"},numPriceHalfLow))),React.createElement(\"div\",{className:\"flex-row\"},React.createElement(\"div\",{className:\"qty-section\"},getQuantityRegular),React.createElement(\"div\",{className:\"spread\"},buySell==\"buy\"&&React.createElement(\"span\",{className:\"price-ladder\"},numPriceRegularLow),buySell==\"sell\"&&React.createElement(\"span\",{className:\"price-ladder\"},numPriceRegular),React.createElement(\"span\",{className:\"dash\"}),buySell==\"buy\"&&React.createElement(\"span\",{className:\"price-ladder end\"},numPriceRegular),buySell==\"sell\"&&React.createElement(\"span\",{className:\"price-ladder end\"},numPriceRegularLow))),React.createElement(\"div\",{className:\"flex-row\"},React.createElement(\"div\",{className:\"qty-section\"},getQuantityDouble),React.createElement(\"div\",{className:\"spread\"},buySell==\"buy\"&&React.createElement(\"span\",{className:\"price-ladder\"},numPriceDoubleLow),buySell==\"sell\"&&React.createElement(\"span\",{className:\"price-ladder\"},numPriceDouble),React.createElement(\"span\",{className:\"dash\"}),buySell==\"buy\"&&React.createElement(\"span\",{className:\"price-ladder end\"},numPriceDouble),buySell==\"sell\"&&React.createElement(\"span\",{className:\"price-ladder end\"},numPriceDoubleLow))))))),!cardVisible&&React.createElement(\"div\",{className:\"inner-wrapper\"},React.createElement(\"div\",{className:\"text-section\"},React.createElement(\"h1\",{className:\"title\"},\"About\")),React.createElement(\"div\",{className:\"role\"},React.createElement(\"div\",{className:\"text-width\"},\"This application involved many iterations and forked into two region-specific platforms. In EMEA alone, it has transacted many billion dollars and continues to be used.\")),React.createElement(\"div\",{className:\"text-section\"},React.createElement(\"h1\",{className:\"title second-title-mt\"},\"My Role\")),React.createElement(\"div\",{className:\"role\"},React.createElement(\"div\",{className:\"text-width\"},React.createElement(\"div\",{className:\"flex-row\"},React.createElement(\"span\",{className:\"title\"},\"Prod Application: \"),\"UX, UI, SCSS, JQuery (prototype only)\"),React.createElement(\"div\",{className:\"flex-row\"},React.createElement(\"span\",{className:\"title\"},\"Portfolio Spinoff: \"),\"Design, React, SCSS\")))),React.createElement(CardFooter,{roleBool:cardVisible,viewRole:viewRole,borderColor:\"var(--crb-btn-border)\"}));}export default CRBCard;","map":{"version":3,"sources":["/Users/amandainnis/amandainnis.github.io/amandainnis.github.io/src/components/crb/CRBCard.js"],"names":["React","useState","useRef","useEffect","createRef","IsLoading","Common","StockData","ClientData","CardFooter","imgCRB","require","data","id","img","title","subtitle","blurb","bkgd","allTickers","slice","CRBCard","cardVisible","setCardVisible","tickerInputRef","clientInputRef","quantityInputRef","ddRef","price","setPrice","tickerCompany","setTickerCompany","ticker","setTicker","tickerInput","setTickerInput","selectedTicker","setSelectedTicker","clientInput","setClientInput","clientTitle","setClientTitle","quantityInput","setQuantityInput","quantityError","setQuantityError","tickerError","setTickerError","buySell","setBuySell","getQuantityRegular","setQuantityRegular","getQuantityHalf","setQuantityHalf","getQuantityDouble","setQuantityDouble","priceRegular","setPriceRegular","priceHalf","setPriceHalf","priceDouble","setPriceDouble","priceRegularLow","setPriceRegularLow","priceHalfLow","setPriceHalfLow","priceDoubleLow","setPriceDoubleLow","isLoading","setIsLoading","tickerDDVisible","setTickerDDVisible","tickerDDReservoir","setTickerDDReservoir","tickerDDFiltered","setTickerDDFiltered","getTickerURL","asyncFetch","preRes","fetch","res","json","myData","myKeys","Object","keys","myPrice","toLocaleString","minimumFractionDigits","Math","round","floor","myPriceHalf","ceil","myPriceHalfLow","myPriceDouble","myPriceDoubleLow","console","log","handleTickerInput","e","tickerDDList","myResults","moreResults","filter","myKey","symbol","startsWith","target","value","toUpperCase","name","getPrice","val","eraseTicker","current","focus","eraseClient","handleKeyUp","handleDDClick","handleQtyInput","eraseQtyInput","validate","input","alphaNum","alpha","numsSpaceComma","test","quantityBlur","getQuantity","parseInt","replace","viewRole","buySellClick","tempPrice","numPriceRegular","numPriceRegularLow","numPriceHalfLow","numPriceHalf","numPriceDoubleLow","numPriceDouble","myPriceDisplay","buySelection","sellSelection","disabledButtons","backgroundColor","map","i"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect, createRef } from \"react\";\nimport IsLoading from \"../reusable/IsLoading\";\nimport * as Common from \"../reusable/common\";\nimport StockData from \"../../data/stock_data\";\nimport ClientData from \"../../data/clientData\";\nimport CardFooter from \"../reusable/Card-Footer\";\n\nconst imgCRB = require(\"../../assets/images/crb-img.png\");\nconst data = {\n  id: 3,\n  img: imgCRB,\n  title: \"Pricer\",\n  subtitle: \"Stock Pricing and Trade Execution\",\n  blurb: [\"\"],\n  bkgd: \"var(--crb-bkgd)\"\n};\n\nconst allTickers = StockData.slice();\nfunction CRBCard() {\n  const [cardVisible, setCardVisible] = useState(true);\n\n  const tickerInputRef = createRef();\n  const clientInputRef = createRef();\n  const quantityInputRef = createRef();\n\n  const ddRef = createRef();\n  const [price, setPrice] = useState(1, 902.06);\n  const [tickerCompany, setTickerCompany] = useState(\"Amazon.com\");\n  const [ticker, setTicker] = useState();\n\n  const [tickerInput, setTickerInput] = useState(\"AMZN\");\n  const [selectedTicker, setSelectedTicker] = useState(null);\n\n  const [clientInput, setClientInput] = useState(\"BURGS\");\n  const [clientTitle, setClientTitle] = useState(\n    \"Burgess Hill Investment Advisors Inc\"\n  );\n  const [quantityInput, setQuantityInput] = useState(\"23,567\");\n  const [quantityError, setQuantityError] = useState(\"\");\n  const [tickerError, setTickerError] = useState(\"\");\n  const [buySell, setBuySell] = useState(\"buy\");\n  const [getQuantityRegular, setQuantityRegular] = useState(\"\");\n  const [getQuantityHalf, setQuantityHalf] = useState(\"\");\n  const [getQuantityDouble, setQuantityDouble] = useState(\"\");\n  const [priceRegular, setPriceRegular] = useState(\"\");\n  const [priceHalf, setPriceHalf] = useState(\"\");\n  const [priceDouble, setPriceDouble] = useState(\"\");\n  const [priceRegularLow, setPriceRegularLow] = useState(\"\");\n  const [priceHalfLow, setPriceHalfLow] = useState(\"\");\n  const [priceDoubleLow, setPriceDoubleLow] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(true);\n  const [tickerDDVisible, setTickerDDVisible] = useState(false);\n  const [tickerDDReservoir, setTickerDDReservoir] = useState(StockData);\n  const [tickerDDFiltered, setTickerDDFiltered] = useState(null);\n\n  const getTickerURL = ticker =>\n    `https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=${ticker}&interval=5min&outputsize=full&apikey=NKT90SOYWKFBP04F`;\n\n  async function asyncFetch(ticker) {\n    try {\n      let preRes = getTickerURL(ticker);\n      let res = await fetch(preRes);\n      let myData = await res.json();\n      // console.log(myData);\n      setIsLoading(true);\n      let myKeys = Object.keys(myData[\"Time Series (5min)\"]);\n      // console.log(myKeys);\n      let myPrice = myData[\"Time Series (5min)\"][myKeys[0]][\"1. open\"];\n      setPrice(myPrice.toLocaleString(\"en\", { minimumFractionDigits: 2 }));\n      setPriceRegular(Math.round(myPrice * 100) / 100);\n      setPriceRegularLow(Math.floor(myPrice * 0.99999 * 100) / 100);\n\n      let myPriceHalf = Math.ceil(myPrice * 0.9 * 100) / 100;\n      let myPriceHalfLow = Math.floor(myPrice * 0.83 * 100) / 100;\n      setPriceHalf(myPriceHalf);\n      setPriceHalfLow(myPriceHalfLow);\n\n      let myPriceDouble = Math.ceil(myPrice * 1.1 * 100) / 100;\n      let myPriceDoubleLow = Math.floor(myPrice * 1.07 * 100) / 100;\n      setPriceDouble(myPriceDouble);\n      setPriceDoubleLow(myPriceDoubleLow);\n    } catch (err) {\n      console.log(err);\n      if (err == \"TypeError: Failed to fetch\") {\n        setTickerError(\"Unable to fetch\");\n      } else {\n        setTickerError(\"Not a Ticker\");\n      }\n      setTicker(\"\");\n      setPrice(null);\n    }\n    setIsLoading(false);\n  }\n\n  function handleTickerInput(e) {\n    const tickerDDList = allTickers.slice();\n    let myResults;\n    let moreResults;\n    if (e !== null || e !== \"\") {\n      myResults = tickerDDList.filter(myKey => {\n        return myKey.symbol.startsWith(e.target.value.toUpperCase());\n      });\n      if (myResults < 1) {\n        myResults = [{ symbol: e.target.value, name: \"Not found\" }];\n      }\n      // console.log(myResults[0]);\n      setTickerInput(e.target.value);\n      setTickerDDFiltered(myResults);\n    }\n  }\n  function getPrice(val) {\n    asyncFetch(val);\n  }\n  function eraseTicker() {\n    // console.log(tickerInputRef);\n    tickerInputRef.current.focus();\n    setTickerInput(\"\");\n    setTickerCompany(\"\");\n    setPrice(\"\");\n    setTickerDDVisible(false);\n    setTickerError(\"\");\n    setBuySell(\"\");\n    setQuantityInput(\"\");\n  }\n  function eraseClient() {\n    console.log(clientInputRef);\n    clientInputRef.current.focus();\n    setClientInput(\"\");\n    setClientTitle(\"\");\n  }\n  function handleKeyUp(e, val) {\n    // console.log(e.which);\n    if (val === \"ticker\") {\n      setTickerDDVisible(true);\n    } else if (val === \"client\") {\n      console.log(\"client\");\n      // setClientDDVisible(true);\n    }\n  }\n  function handleDDClick(val, name) {\n    console.log(val);\n    setTickerInput(val.symbol);\n    setTickerCompany(val.name);\n    setTickerDDVisible(false);\n    getPrice(val.symbol);\n    quantityInputRef.current.focus();\n  }\n  function handleQtyInput(e) {\n    setQuantityInput(e.target.value);\n  }\n\n  function eraseQtyInput() {\n    setQuantityInput(\"\");\n    quantityInputRef.current.focus();\n    setBuySell(\"\");\n  }\n\n  function validate(e, input) {\n    const alphaNum = /^[0-9a-zA-Z]+$/;\n    const alpha = /^[a-zA-Z]+$/;\n    const numsSpaceComma = /^[0-9, ]+$/;\n\n    if (numsSpaceComma.test(e.target.value)) {\n      console.log(\"accepted\");\n      setQuantityError(\"\");\n    } else {\n      setQuantityError(\"only numbers\");\n    }\n\n    // if (input === \"ticker\") {\n    // }\n  }\n\n  function quantityBlur() {\n    if (quantityInput !== \"\") {\n      let getQuantity = parseInt(quantityInput.replace(/,/g, \"\"), 10);\n      let getQuantityRegular = getQuantity * 1;\n      setQuantityRegular(getQuantityRegular.toLocaleString(\"en\"));\n      let getQuantityHalf = Math.round(getQuantity / 2);\n      setQuantityHalf(getQuantityHalf.toLocaleString(\"en\"));\n      let getQuantityDouble = getQuantity * 2;\n      setQuantityDouble(getQuantityDouble.toLocaleString(\"en\"));\n      setQuantityInput(getQuantity.toLocaleString(\"en\"));\n    } else {\n      setQuantityInput(\"\");\n    }\n  }\n  function viewRole() {\n    if (cardVisible) {\n      setCardVisible(false);\n    } else {\n      setCardVisible(true);\n    }\n  }\n  function buySellClick(val) {\n    if (val === \"buy\") {\n      setBuySell(\"buy\");\n    } else {\n      setBuySell(\"sell\");\n    }\n  }\n\n  useEffect(() => {\n    // resolveFetchedTicker(\"AMZN\");\n    asyncFetch(\"AMZN\");\n    quantityBlur();\n  }, []);\n\n  let tempPrice = Math.round(price * 100) / 100;\n\n  tempPrice = tempPrice.toLocaleString(\"en\");\n  const numPriceRegular = tempPrice.toLocaleString(\"en\", {\n    minimumFractionDigits: 2\n  });\n  const numPriceRegularLow = priceRegularLow.toLocaleString(\"en\", {\n    minimumFractionDigits: 2\n  });\n  const numPriceHalfLow = priceHalfLow.toLocaleString(\"en\", {\n    minimumFractionDigits: 2\n  });\n  const numPriceHalf = priceHalf.toLocaleString(\"en\", {\n    minimumFractionDigits: 2\n  });\n  const numPriceDoubleLow = priceDoubleLow.toLocaleString(\"en\", {\n    minimumFractionDigits: 2\n  });\n  const numPriceDouble = priceDouble.toLocaleString(\"en\", {\n    minimumFractionDigits: 2\n  });\n  const myPriceDisplay = tempPrice !== \"\" ? \"$\" + tempPrice : \"\";\n\n  const buySelection = buySell === \"buy\" ? \"selected\" : \"\";\n  const sellSelection = buySell === \"sell\" ? \"selected\" : \"\";\n  const disabledButtons =\n    tickerInput !== \"\" && quantityInput !== \"\" ? \"\" : \"disabled\";\n  return (\n    <article className=\"portfolio-card\" style={{ backgroundColor: data.bkgd }}>\n      <IsLoading isLoading={isLoading}></IsLoading>\n      {cardVisible && (\n        <div className=\"inner-wrapper\">\n          <div className=\"text-section\">\n            <h1 className=\"title\">{data.title}</h1>\n            <h4 className=\"subtitle\">{data.subtitle}</h4>\n          </div>\n          <div>\n            <div className=\"flex-row mt-3 crb-title-row align-content-end\">\n              <div className=\"ticker-title\">{tickerCompany}</div>\n\n              <div className=\"crb label-style ml-auto\">Mkt</div>\n              <div className=\"price-title\">{myPriceDisplay}</div>\n            </div>\n\n            <div className=\"flex-row crb-top-inputs\">\n              {tickerDDVisible && (\n                <div\n                  className=\"invisible-background\"\n                  onClick={() => {\n                    setTickerDDVisible(false);\n                    console.log(\"background click\");\n                  }}\n                ></div>\n              )}\n              <div className=\"input-group\">\n                <div className=\"relative\">\n                  <div className=\"clearable\">\n                    <input\n                      ref={tickerInputRef}\n                      className=\"input-style crb-input\"\n                      type=\"text\"\n                      placeholder=\"ticker\"\n                      name=\"tickerInput\"\n                      autoComplete=\"off\"\n                      value={tickerInput}\n                      onChange={e => {\n                        handleTickerInput(e);\n                      }}\n                      onKeyUp={e => {\n                        handleKeyUp(e, \"ticker\");\n                      }}\n                    />\n\n                    {tickerInput !== \"\" ? (\n                      <span\n                        className=\"clearable-clear aicon-close\"\n                        onClick={() => {\n                          eraseTicker();\n                        }}\n                      ></span>\n                    ) : null}\n                    {tickerDDVisible && (\n                      <div className=\"dropdown-container crb\" ref={ddRef}>\n                        {tickerDDFiltered !== \"\" &&\n                          tickerDDFiltered.map((val, i) => {\n                            return (\n                              <>\n                                <button\n                                  key={val.symbol}\n                                  onClick={e => {\n                                    handleDDClick(val, \"tickerInput\");\n                                  }}\n                                  value={selectedTicker}\n                                >\n                                  {val.symbol} - {val.name}\n                                </button>\n                              </>\n                            );\n                          })}\n                      </div>\n                    )}\n                  </div>\n                </div>\n                <div className=\"error-message red-text\">{tickerError}</div>\n              </div>\n              <div className=\"input-group\">\n                <div className=\"relative\">\n                  <div className=\"clearable\">\n                    <input\n                      id=\"qtyForTicker\"\n                      type=\"text\"\n                      ref={quantityInputRef}\n                      className=\"input-style crb-input\"\n                      placeholder=\"quantity\"\n                      value={quantityInput}\n                      onChange={e => handleQtyInput(e)}\n                      onKeyUp={e => validate(e, \"quantity\")}\n                      onBlur={() => {\n                        quantityBlur();\n                      }}\n                    />\n                    {quantityInput !== \"\" && (\n                      <span\n                        className=\"clearable-clear aicon-close\"\n                        onClick={() => eraseQtyInput()}\n                      ></span>\n                    )}\n                  </div>\n                </div>\n                <div className=\"error-message red-text\">{quantityError}</div>\n              </div>\n              <div className=\"button-row flex-row justify-content-end\">\n                <button\n                  onClick={() => {\n                    buySellClick(\"buy\");\n                  }}\n                  disabled={disabledButtons}\n                  className={`var(--crb-button-type) large green mr-2 crb-button ${buySelection}`}\n                >\n                  Buy\n                </button>\n                <button\n                  onClick={() => {\n                    buySellClick(\"sell\");\n                  }}\n                  disabled={disabledButtons}\n                  className={`var(--crb-button-type) large red crb-button ${sellSelection}`}\n                >\n                  Sell\n                </button>\n              </div>\n            </div>\n          </div>\n          <div className=\"ladder-height\">\n            {quantityInput !== \"\" && tickerInput !== \"\" && buySell !== \"\" && (\n              <>\n                <div className=\"column-header\">\n                  <div className=\"quantity-section\">Quantity</div>\n                  <div className=\"spread\">Price</div>\n                </div>\n                <div className={`ladder ${buySell}`}>\n                  <div className=\"flex-row\">\n                    <div className=\"qty-section\">{getQuantityHalf}</div>\n                    <div className=\"spread\">\n                      {buySell == \"buy\" && (\n                        <span className=\"price-ladder\">{numPriceHalfLow}</span>\n                      )}\n                      {buySell == \"sell\" && (\n                        <span className=\"price-ladder\">{numPriceHalf}</span>\n                      )}\n\n                      <span className=\"dash\"></span>\n                      {buySell == \"buy\" && (\n                        <span className=\"price-ladder end\">{numPriceHalf}</span>\n                      )}\n                      {buySell == \"sell\" && (\n                        <span className=\"price-ladder end\">\n                          {numPriceHalfLow}\n                        </span>\n                      )}\n                    </div>\n                  </div>\n                  <div className=\"flex-row\">\n                    <div className=\"qty-section\">{getQuantityRegular}</div>\n                    <div className=\"spread\">\n                      {buySell == \"buy\" && (\n                        <span className=\"price-ladder\">\n                          {numPriceRegularLow}\n                        </span>\n                      )}\n                      {buySell == \"sell\" && (\n                        <span className=\"price-ladder\">{numPriceRegular}</span>\n                      )}\n\n                      <span className=\"dash\"></span>\n                      {buySell == \"buy\" && (\n                        <span className=\"price-ladder end\">\n                          {numPriceRegular}\n                        </span>\n                      )}\n                      {buySell == \"sell\" && (\n                        <span className=\"price-ladder end\">\n                          {numPriceRegularLow}\n                        </span>\n                      )}\n                    </div>\n                  </div>\n                  <div className=\"flex-row\">\n                    <div className=\"qty-section\">{getQuantityDouble}</div>\n                    <div className=\"spread\">\n                      {buySell == \"buy\" && (\n                        <span className=\"price-ladder\">\n                          {numPriceDoubleLow}\n                        </span>\n                      )}\n                      {buySell == \"sell\" && (\n                        <span className=\"price-ladder\">{numPriceDouble}</span>\n                      )}\n\n                      <span className=\"dash\"></span>\n                      {buySell == \"buy\" && (\n                        <span className=\"price-ladder end\">\n                          {numPriceDouble}\n                        </span>\n                      )}\n                      {buySell == \"sell\" && (\n                        <span className=\"price-ladder end\">\n                          {numPriceDoubleLow}\n                        </span>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n      )}\n      {!cardVisible && (\n        <div className=\"inner-wrapper\">\n          <div className=\"text-section\">\n            <h1 className=\"title\">About</h1>\n          </div>\n          <div className=\"role\">\n            <div className=\"text-width\">\n              This application involved many iterations and forked into two\n              region-specific platforms. In EMEA alone, it has transacted many\n              billion dollars and continues to be used.\n            </div>\n          </div>\n          <div className=\"text-section\">\n            <h1 className=\"title second-title-mt\">My Role</h1>\n          </div>\n\n          <div className=\"role\">\n            <div className=\"text-width\">\n              <div className=\"flex-row\">\n                <span className=\"title\">Prod Application: </span>UX, UI, SCSS,\n                JQuery (prototype only)\n              </div>\n              <div className=\"flex-row\">\n                <span className=\"title\">Portfolio Spinoff: </span>Design, React,\n                SCSS\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <CardFooter\n        roleBool={cardVisible}\n        viewRole={viewRole}\n        borderColor={\"var(--crb-btn-border)\"}\n      />\n    </article>\n  );\n}\n\nexport default CRBCard;\n"]},"metadata":{},"sourceType":"module"}