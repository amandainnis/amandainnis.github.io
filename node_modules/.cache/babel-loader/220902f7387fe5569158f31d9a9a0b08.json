{"ast":null,"code":"var _jsxFileName = \"/Users/amandainnis/ReactProjects/board-app/src/components/crb/CRBCard.js\";\nimport React from \"react\";\nimport IsLoading from \"../reusable/IsLoading\";\n\nconst imgCRB = require(\"../../assets/images/crb-img.png\");\n\nconst data = {\n  id: 3,\n  img: imgCRB,\n  title: \"CRB Pricer\",\n  subtitle: \"Central Risk Book Pricing and Trade Execution\",\n  blurb: [\"\"],\n  bkgd: \"var(--crb-bkgd)\"\n};\n\nclass CRBCard extends React.Component {\n  constructor(props) {\n    super(props);\n    this._isMounted = false;\n\n    this.getTickerURL = ticker => \"https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=\".concat(ticker, \"&interval=5min&outputsize=full&apikey=NKT90SOYWKFBP04F\");\n\n    this.tickerInputRef = React.createRef();\n    this.state = {\n      price: 0,\n      ticker: \"AMZN\",\n      tickerInput: \"AMZN\",\n      isLoading: true\n    }; // this.loadingFunc = this.loadingFunc.bind(this);\n\n    this.setPrice = this.setPrice.bind(this);\n    console.log(\"i am AMZN\", this.getTickerURL(\"AMZN\"));\n  }\n\n  setPrice() {\n    this.setState(prevState => {\n      return {\n        price: prevState.price + 1\n      };\n    });\n  }\n\n  fetchTicker(ticker) {\n    return fetch(this.getTickerURL(ticker)).then(res => {\n      // console.log(res);\n      if (!res.ok) {\n        throw Error(\"sadface, the res doesnt want to be our friend, but dont feel bad.  btw im middleware\");\n      } // console.log(res);\n\n\n      return res;\n    }).then(res => // this is the promise so don't have a return statement, it will be if and when  its ready\n    // better with es6\n    // console.log(res.json())\n    res.json()); // .then(res => enzo = res);\n  }\n\n  resolveFetchedTicker(ticker, loadingBool) {\n    this.setState({\n      isLoading: true\n    });\n    this.fetchTicker(ticker).then(res => {\n      if (loadingBool) {\n        console.log(\"woof\", res[\"Time Series (5min)\"][\"2019-11-05 09:35:00\"][\"1. open\"]);\n        this.setState({\n          isLoading: false,\n          ticker: ticker,\n          price: res[\"Time Series (5min)\"][\"2019-11-05 09:35:00\"][\"1. open\"]\n        });\n      }\n    });\n  } // loadingFunc(bool) {\n  //   let myLovelyTimeout;\n  //   if (bool) {\n  //     myLovelyTimeout = setTimeout(() => {\n  //       this.setState({\n  //         isLoading: false\n  //       });\n  //     }, 1500);\n  //   } else {\n  //     clearTimeout(myLovelyTimeout);\n  //   }\n  // }\n\n\n  updateInputValue(e) {\n    this.setState({\n      tickerInput: e.target.value\n    });\n  }\n\n  getPrice() {\n    const myTicker = this.state.tickerInput;\n    this.setState({\n      ticker: myTicker\n    });\n    console.log(myTicker);\n    this.resolveFetchedTicker(myTicker, true);\n  }\n\n  eraseInput() {\n    console.log(this.tickerInputRef.current);\n    this.setState({\n      tickerInput: \"\",\n      ticker: \"\",\n      price: \"\"\n    });\n  }\n\n  componentDidMount() {\n    this._isMounted = true;\n    this.resolveFetchedTicker(\"AMZN\", this._isMounted); // // console.log(myTicker);\n    // this.loadingFunc(true);\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  render() {\n    const price = this.state.price;\n    const ticker = this.state.ticker; // this is a promise\n\n    return React.createElement(\"article\", {\n      className: \"portfolio-card\",\n      style: {\n        backgroundColor: data.bkgd\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(IsLoading, {\n      isLoading: this.state.isLoading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"text-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, data.title), React.createElement(\"h4\", {\n      className: \"subtitle\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, data.subtitle)), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"flex-row mt-3 crb-title-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ticker-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, ticker), React.createElement(\"div\", {\n      className: \"ticker-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, price)), React.createElement(\"div\", {\n      className: \"input-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"clearable\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      ref: \"this.tickerInputRef\",\n      className: \"input-style crb-input\",\n      type: \"text\",\n      placeholder: \"ticker\",\n      value: this.state.tickerInput,\n      onChange: e => {\n        this.updateInputValue(e);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), this.state.tickerInput !== \"\" ? React.createElement(\"span\", {\n      className: \"clearable-clear mdi mdi-close\",\n      onClick: () => {\n        this.eraseInput();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }) : null)), React.createElement(\"button\", {\n      onClick: () => {\n        this.getPrice();\n      },\n      className: \"outline-btn accent mt-3 crb-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"price\"), price));\n  }\n\n}\n\nexport default CRBCard;","map":{"version":3,"sources":["/Users/amandainnis/ReactProjects/board-app/src/components/crb/CRBCard.js"],"names":["React","IsLoading","imgCRB","require","data","id","img","title","subtitle","blurb","bkgd","CRBCard","Component","constructor","props","_isMounted","getTickerURL","ticker","tickerInputRef","createRef","state","price","tickerInput","isLoading","setPrice","bind","console","log","setState","prevState","fetchTicker","fetch","then","res","ok","Error","json","resolveFetchedTicker","loadingBool","updateInputValue","e","target","value","getPrice","myTicker","eraseInput","current","componentDidMount","componentWillUnmount","render","backgroundColor"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport IsLoading from \"../reusable/IsLoading\";\nconst imgCRB = require(\"../../assets/images/crb-img.png\");\nconst data = {\n  id: 3,\n  img: imgCRB,\n  title: \"CRB Pricer\",\n  subtitle: \"Central Risk Book Pricing and Trade Execution\",\n  blurb: [\"\"],\n  bkgd: \"var(--crb-bkgd)\"\n};\nclass CRBCard extends React.Component {\n  _isMounted = false;\n\n  constructor(props) {\n    super(props);\n    this.tickerInputRef = React.createRef();\n    this.state = {\n      price: 0,\n      ticker: \"AMZN\",\n      tickerInput: \"AMZN\",\n      isLoading: true\n    };\n    // this.loadingFunc = this.loadingFunc.bind(this);\n    this.setPrice = this.setPrice.bind(this);\n    console.log(\"i am AMZN\", this.getTickerURL(\"AMZN\"));\n  }\n  getTickerURL = ticker =>\n    `https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=${ticker}&interval=5min&outputsize=full&apikey=NKT90SOYWKFBP04F`;\n\n  setPrice() {\n    this.setState(prevState => {\n      return {\n        price: prevState.price + 1\n      };\n    });\n  }\n\n  fetchTicker(ticker) {\n    return fetch(this.getTickerURL(ticker))\n      .then(res => {\n        // console.log(res);\n        if (!res.ok) {\n          throw Error(\n            \"sadface, the res doesnt want to be our friend, but dont feel bad.  btw im middleware\"\n          );\n        }\n        // console.log(res);\n        return res;\n      })\n      .then(res =>\n        // this is the promise so don't have a return statement, it will be if and when  its ready\n        // better with es6\n        // console.log(res.json())\n        res.json()\n      );\n    // .then(res => enzo = res);\n  }\n  resolveFetchedTicker(ticker, loadingBool) {\n    this.setState({\n      isLoading: true\n    });\n    this.fetchTicker(ticker).then(res => {\n      if (loadingBool) {\n        console.log(\n          \"woof\",\n          res[\"Time Series (5min)\"][\"2019-11-05 09:35:00\"][\"1. open\"]\n        );\n        this.setState({\n          isLoading: false,\n          ticker: ticker,\n          price: res[\"Time Series (5min)\"][\"2019-11-05 09:35:00\"][\"1. open\"]\n        });\n      }\n    });\n  }\n  // loadingFunc(bool) {\n  //   let myLovelyTimeout;\n  //   if (bool) {\n  //     myLovelyTimeout = setTimeout(() => {\n  //       this.setState({\n  //         isLoading: false\n  //       });\n  //     }, 1500);\n  //   } else {\n  //     clearTimeout(myLovelyTimeout);\n  //   }\n  // }\n  updateInputValue(e) {\n    this.setState({ tickerInput: e.target.value });\n  }\n  getPrice() {\n    const myTicker = this.state.tickerInput;\n    this.setState({ ticker: myTicker });\n    console.log(myTicker);\n    this.resolveFetchedTicker(myTicker, true);\n  }\n  eraseInput() {\n    console.log(this.tickerInputRef.current);\n    this.setState({\n      tickerInput: \"\",\n      ticker: \"\",\n      price: \"\"\n    });\n  }\n  componentDidMount() {\n    this._isMounted = true;\n    this.resolveFetchedTicker(\"AMZN\", this._isMounted);\n\n    // // console.log(myTicker);\n    // this.loadingFunc(true);\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n  render() {\n    const price = this.state.price;\n    const ticker = this.state.ticker;\n    // this is a promise\n\n    return (\n      <article\n        className=\"portfolio-card\"\n        style={{ backgroundColor: data.bkgd }}\n      >\n        <IsLoading isLoading={this.state.isLoading}></IsLoading>\n        <div className=\"text-section\">\n          <h1 className=\"title\">{data.title}</h1>\n          <h4 className=\"subtitle\">{data.subtitle}</h4>\n        </div>\n        <div>\n          <div className=\"flex-row mt-3 crb-title-row\">\n            <div className=\"ticker-title\">{ticker}</div>\n            <div className=\"ticker-title\">{price}</div>\n          </div>\n          <div className=\"input-group\">\n            <div className=\"clearable\">\n              <input\n                ref=\"this.tickerInputRef\"\n                className=\"input-style crb-input\"\n                type=\"text\"\n                placeholder=\"ticker\"\n                value={this.state.tickerInput}\n                onChange={e => {\n                  this.updateInputValue(e);\n                }}\n              />\n\n              {this.state.tickerInput !== \"\" ? (\n                <span\n                  className=\"clearable-clear mdi mdi-close\"\n                  onClick={() => {\n                    this.eraseInput();\n                  }}\n                ></span>\n              ) : null}\n            </div>\n          </div>\n          <button\n            onClick={() => {\n              this.getPrice();\n            }}\n            className=\"outline-btn accent mt-3 crb-button\"\n          >\n            price\n          </button>\n          {price}\n        </div>\n\n        {/* {props.data.divs} */}\n        {/* <div\n          style={{ backgroundColor: \"yellow\", width: \"50%\", height: \"15px\" }}\n        ></div> */}\n        {/* <div class=\"blurb-thumb\">\n          <p className=\"blurb\">{props.data.blurb}</p>\n          <div className=\"thumb\">\n            <img src={props.data.img} alt={props.data.subtitle} />\n          </div>\n        </div> */}\n      </article>\n    );\n  }\n}\n\nexport default CRBCard;\n"]},"metadata":{},"sourceType":"module"}