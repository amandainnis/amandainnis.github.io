{"ast":null,"code":"var _jsxFileName = \"/Users/amandainnis/ReactProjects/board-app/src/components/home/Home.js\";\nimport React from \"react\";\nimport portfolioData from \"./data/portfolioData\";\nimport AlertingCard from \"./components/alerting/AlertingCard\";\nimport AlphaCapCard from \"./components/alphaCapture/AlphaCapCard\";\nimport InsightAnalyticsCard from \"./components/insightAnalytics/InsightAnalyticsCard\";\nimport CRBCard from \"./components/crb/CRBCard\";\nimport PortfolioCard from \"./components/portfolio-card\";\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.bodyRef = React.createRef();\n    this.alertingRef = React.createRef();\n    this.changeMeRef = React.createRef();\n    this.handleScroll = this.handleScroll.bind(this);\n    this.handleClassAddingOnScroll = this.handleClassAddingOnScroll.bind(this);\n    this.setScrollingConstants = this.setScrollingConstants.bind(this);\n    this.handleScrollBetter = this.handleScrollBetter.bind(this);\n    this.state = {\n      myBody: this.bodyRef,\n      myChangeMe: this.changeMeRef,\n      myAlerting: this.alertingRef,\n      scrollHeight: null,\n      clientHeight: null,\n      bodyOffset: null,\n      visibleArea: null,\n      scrollAmount: null,\n      alertingOffset: null,\n      alertingActive: null\n    };\n  }\n\n  setChangeClass(myRef, myClass, myTimeout) {\n    const changeMe = myRef; // this just adds the class no matter what\n    // console.log(\"outside changeme setTimeout\");\n\n    const myChangeClassTimeout = setTimeout(() => {\n      changeMe.current.classList.remove(myClass);\n      console.log(\"inside changeme setTimeout\");\n    }, myTimeout);\n\n    if (changeMe.current.classList.contains(myClass)) {\n      console.log(\"clear timeout\");\n      clearTimeout(myChangeClassTimeout);\n    }\n\n    changeMe.current.classList.add(myClass);\n  }\n\n  setActiveChangeClass(cardOffsetFromState, visibleArea, scrollAmount, myStateKey, myTimeout) {\n    // this tests if the thing is in view\n    if (scrollAmount > cardOffsetFromState - visibleArea) {\n      // passes it to child\n      const myAwesomeTimeout = setTimeout(() => {\n        // console.log(\"i timed out\");\n        this.setState({\n          [myStateKey]: false\n        });\n      }, myTimeout);\n      this.setState(prevState => {\n        // console.log(prevState[myStateKey]);\n        if (prevState[myStateKey] === true) {\n          // console.log(\"clear timeout\");\n          clearTimeout(myAwesomeTimeout);\n        }\n\n        return {\n          [myStateKey]: true\n        };\n      });\n    }\n  }\n\n  handleClassAddingOnScroll(alertingOffset, visibleArea, scrollAmount, myRef, myClass, myTimeout) {\n    // this tests if the thing is in view\n    if (scrollAmount > alertingOffset - visibleArea) {\n      this.setChangeClass(myRef, myClass, myTimeout);\n    }\n  }\n\n  handleScroll() {\n    // https://reactjs.org/docs/faq-functions.html#how-can-i-prevent-a-function-from-being-called-too-quickly-or-too-many-times-in-a-row\n    // this.emitChangeDebounced(e);\n    // // If there's a timer, cancel it\n    // if (this.timer) {\n    //   window.cancelAnimationFrame(this.timer);\n    // }\n    // // Setup the new requestAnimationFrame()\n    // this.timer = window.requestAnimationFrame(function() {\n    //   // Run our scroll functions\n    //   console.log(\"debounced\");\n    // });\n    const scrollAmount = this.state.myBody.current.scrollTop;\n    const alertingOffset = this.state.alertingOffset;\n    const visibleArea = this.state.visibleArea;\n    this.setState({\n      scrollAmount: scrollAmount\n    });\n    window.requestAnimationFrame(() => {\n      this.setChangeClass(this.state.myChangeMe, \"blinkDivUpPlain\", 1000);\n      this.setActiveChangeClass(alertingOffset, visibleArea, scrollAmount, \"alertingActive\", 5000);\n    });\n  }\n\n  handleScrollBetter() {\n    // console.log(\"no debounce\");\n    // function callMeLola() {\n    //   // console.log(\"lolllllaaaaaaaaa\");\n    // }\n    // function timeoutsetter() {\n    //   clearTimeout(GlobalTimeout);\n    //   var GlobalTimeout = setTimeout(callMeLola, 1500);\n    // }\n    Common.debounce(this.handleScroll(), 500);\n  }\n\n  setScrollingConstants() {\n    const scrollHeight = this.state.myBody.current.scrollHeight;\n    const clientHeight = this.state.myBody.current.clientHeight;\n    const bodyOffset = this.state.myBody.current.offsetTop;\n    const visibleArea = this.state.myBody.current.clientHeight + this.state.myBody.current.offsetTop;\n    const scrollAmount = this.state.myBody.current.scrollTop;\n    const alertingOffset = this.state.myAlerting.current.offsetTop;\n    this.setState({\n      scrollHeight: scrollHeight,\n      clientHeight: clientHeight,\n      bodyOffset: bodyOffset,\n      visibleArea: visibleArea,\n      scrollAmount: scrollAmount,\n      alertingOffset: alertingOffset\n    });\n  }\n\n  componentDidMount() {\n    console.log(\"mounted\");\n    console.log(this.state.myBody);\n    console.log(this.bodyRef.current);\n    this.setScrollingConstants();\n    this.bodyRef.current.addEventListener(\"scroll\", this.handleScrollBetter.bind(this));\n  }\n\n  render() {\n    const scrollData = {\n      scrollHeight: this.state.scrollHeight,\n      clientHeight: this.state.clientHeight,\n      bodyOffset: this.state.bodyOffset,\n      visibleArea: this.state.visibleArea,\n      scrollAmount: this.state.scrollAmount,\n      alertingOffset: this.state.alertingOffset,\n      alertingActive: this.state.alertingActive\n    };\n    return React.createElement(\"div\", {\n      className: \"inner-body\" // onScroll={this.handleScrollBetter}\n      ,\n      ref: this.bodyRef,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"headline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, \"Hi, I'm Amanda Innis, a designer & creative technologist\"), React.createElement(\"div\", {\n      className: \"card-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wrapper-padding constants-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \"window to wrapper\", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, this.props.scrollData.bodyOffset)), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, \"height of wrapper\", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, this.props.scrollData.clientHeight)), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"height visible\", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, this.props.scrollData.visibleArea)), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, \"height of contents\", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, this.props.scrollData.scrollHeight)), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, \"cards offset\", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, this.props.scrollData.alertingOffset)), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"mt-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, \"Math\")), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, \"cards offset - height visible\", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, this.props.scrollData.alertingOffset - this.props.scrollData.visibleArea)), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"mt-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, \"Change\")), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, \"amount scrolled\", React.createElement(\"span\", {\n      ref: this.changeMeRef,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, scrollAmount), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, \"the debounce article https://dev.to/gabe_ragland/debouncing-with-react-hooks-jci\")))), React.createElement(\"h1\", {\n      className: \"wrapper-padding section-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, \"Projects\"), React.createElement(\"div\", {\n      className: \"portfolio-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"portfolio-card-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, React.createElement(InsightAnalyticsCard, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"portfolio-card-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    }, React.createElement(AlphaCapCard, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"portfolio-card-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, React.createElement(CRBCard, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      ref: this.alertingRef,\n      className: \"portfolio-card-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, React.createElement(AlertingCard, {\n      active: alertingActive,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/amandainnis/ReactProjects/board-app/src/components/home/Home.js"],"names":["React","portfolioData","AlertingCard","AlphaCapCard","InsightAnalyticsCard","CRBCard","PortfolioCard","Home","Component","constructor","props","bodyRef","createRef","alertingRef","changeMeRef","handleScroll","bind","handleClassAddingOnScroll","setScrollingConstants","handleScrollBetter","state","myBody","myChangeMe","myAlerting","scrollHeight","clientHeight","bodyOffset","visibleArea","scrollAmount","alertingOffset","alertingActive","setChangeClass","myRef","myClass","myTimeout","changeMe","myChangeClassTimeout","setTimeout","current","classList","remove","console","log","contains","clearTimeout","add","setActiveChangeClass","cardOffsetFromState","myStateKey","myAwesomeTimeout","setState","prevState","scrollTop","window","requestAnimationFrame","Common","debounce","offsetTop","componentDidMount","addEventListener","render","scrollData"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport portfolioData from \"./data/portfolioData\";\nimport AlertingCard from \"./components/alerting/AlertingCard\";\nimport AlphaCapCard from \"./components/alphaCapture/AlphaCapCard\";\nimport InsightAnalyticsCard from \"./components/insightAnalytics/InsightAnalyticsCard\";\nimport CRBCard from \"./components/crb/CRBCard\";\nimport PortfolioCard from \"./components/portfolio-card\";\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.bodyRef = React.createRef();\n    this.alertingRef = React.createRef();\n    this.changeMeRef = React.createRef();\n    this.handleScroll = this.handleScroll.bind(this);\n    this.handleClassAddingOnScroll = this.handleClassAddingOnScroll.bind(this);\n    this.setScrollingConstants = this.setScrollingConstants.bind(this);\n    this.handleScrollBetter = this.handleScrollBetter.bind(this);\n\n    this.state = {\n      myBody: this.bodyRef,\n      myChangeMe: this.changeMeRef,\n      myAlerting: this.alertingRef,\n      scrollHeight: null,\n      clientHeight: null,\n      bodyOffset: null,\n      visibleArea: null,\n      scrollAmount: null,\n      alertingOffset: null,\n      alertingActive: null\n    };\n  }\n  setChangeClass(myRef, myClass, myTimeout) {\n    const changeMe = myRef;\n    // this just adds the class no matter what\n    // console.log(\"outside changeme setTimeout\");\n    const myChangeClassTimeout = setTimeout(() => {\n      changeMe.current.classList.remove(myClass);\n      console.log(\"inside changeme setTimeout\");\n    }, myTimeout);\n    if (changeMe.current.classList.contains(myClass)) {\n      console.log(\"clear timeout\");\n      clearTimeout(myChangeClassTimeout);\n    }\n    changeMe.current.classList.add(myClass);\n  }\n\n  setActiveChangeClass(\n    cardOffsetFromState,\n    visibleArea,\n    scrollAmount,\n    myStateKey,\n    myTimeout\n  ) {\n    // this tests if the thing is in view\n    if (scrollAmount > cardOffsetFromState - visibleArea) {\n      // passes it to child\n      const myAwesomeTimeout = setTimeout(() => {\n        // console.log(\"i timed out\");\n        this.setState({ [myStateKey]: false });\n      }, myTimeout);\n      this.setState(prevState => {\n        // console.log(prevState[myStateKey]);\n        if (prevState[myStateKey] === true) {\n          // console.log(\"clear timeout\");\n          clearTimeout(myAwesomeTimeout);\n        }\n        return { [myStateKey]: true };\n      });\n    }\n  }\n  handleClassAddingOnScroll(\n    alertingOffset,\n    visibleArea,\n    scrollAmount,\n    myRef,\n    myClass,\n    myTimeout\n  ) {\n    // this tests if the thing is in view\n    if (scrollAmount > alertingOffset - visibleArea) {\n      this.setChangeClass(myRef, myClass, myTimeout);\n    }\n  }\n\n  handleScroll() {\n    // https://reactjs.org/docs/faq-functions.html#how-can-i-prevent-a-function-from-being-called-too-quickly-or-too-many-times-in-a-row\n    // this.emitChangeDebounced(e);\n    // // If there's a timer, cancel it\n    // if (this.timer) {\n    //   window.cancelAnimationFrame(this.timer);\n    // }\n    // // Setup the new requestAnimationFrame()\n    // this.timer = window.requestAnimationFrame(function() {\n    //   // Run our scroll functions\n    //   console.log(\"debounced\");\n    // });\n    const scrollAmount = this.state.myBody.current.scrollTop;\n    const alertingOffset = this.state.alertingOffset;\n    const visibleArea = this.state.visibleArea;\n    this.setState({\n      scrollAmount: scrollAmount\n    });\n    window.requestAnimationFrame(() => {\n      this.setChangeClass(this.state.myChangeMe, \"blinkDivUpPlain\", 1000);\n      this.setActiveChangeClass(\n        alertingOffset,\n        visibleArea,\n        scrollAmount,\n        \"alertingActive\",\n        5000\n      );\n    });\n  }\n\n  handleScrollBetter() {\n    // console.log(\"no debounce\");\n    // function callMeLola() {\n    //   // console.log(\"lolllllaaaaaaaaa\");\n    // }\n    // function timeoutsetter() {\n    //   clearTimeout(GlobalTimeout);\n    //   var GlobalTimeout = setTimeout(callMeLola, 1500);\n    // }\n\n    Common.debounce(this.handleScroll(), 500);\n  }\n  setScrollingConstants() {\n    const scrollHeight = this.state.myBody.current.scrollHeight;\n    const clientHeight = this.state.myBody.current.clientHeight;\n    const bodyOffset = this.state.myBody.current.offsetTop;\n    const visibleArea =\n      this.state.myBody.current.clientHeight +\n      this.state.myBody.current.offsetTop;\n    const scrollAmount = this.state.myBody.current.scrollTop;\n    const alertingOffset = this.state.myAlerting.current.offsetTop;\n\n    this.setState({\n      scrollHeight: scrollHeight,\n      clientHeight: clientHeight,\n      bodyOffset: bodyOffset,\n      visibleArea: visibleArea,\n      scrollAmount: scrollAmount,\n      alertingOffset: alertingOffset\n    });\n  }\n  componentDidMount() {\n    console.log(\"mounted\");\n    console.log(this.state.myBody);\n    console.log(this.bodyRef.current);\n\n    this.setScrollingConstants();\n    this.bodyRef.current.addEventListener(\n      \"scroll\",\n      this.handleScrollBetter.bind(this)\n    );\n  }\n  render() {\n    const scrollData = {\n      scrollHeight: this.state.scrollHeight,\n      clientHeight: this.state.clientHeight,\n      bodyOffset: this.state.bodyOffset,\n      visibleArea: this.state.visibleArea,\n      scrollAmount: this.state.scrollAmount,\n      alertingOffset: this.state.alertingOffset,\n      alertingActive: this.state.alertingActive\n    };\n    return (\n      <div\n        className=\"inner-body\"\n        // onScroll={this.handleScrollBetter}\n        ref={this.bodyRef}\n      >\n        <div className=\"headline\">\n          Hi, I'm Amanda Innis, a designer &amp; creative technologist\n        </div>\n\n        <div className=\"card-wrapper\">\n          <div className=\"wrapper-padding constants-info\">\n            <ul>\n              <li>\n                window to wrapper\n                <span>{this.props.scrollData.bodyOffset}</span>\n              </li>\n              <li>\n                height of wrapper\n                <span>{this.props.scrollData.clientHeight}</span>\n              </li>\n\n              <li>\n                height visible\n                <span>{this.props.scrollData.visibleArea}</span>\n              </li>\n              <li>\n                height of contents\n                <span>{this.props.scrollData.scrollHeight}</span>\n              </li>\n              <li>\n                cards offset\n                <span>{this.props.scrollData.alertingOffset}</span>\n              </li>\n              <li>\n                <h4 className=\"mt-2\">Math</h4>\n              </li>\n\n              <li>\n                cards offset - height visible\n                <span>\n                  {this.props.scrollData.alertingOffset -\n                    this.props.scrollData.visibleArea}\n                </span>\n              </li>\n              <li>\n                <h4 className=\"mt-2\">Change</h4>\n              </li>\n\n              <li>\n                amount scrolled\n                <span ref={this.changeMeRef}>{scrollAmount}</span>\n                <div>\n                  the debounce article\n                  https://dev.to/gabe_ragland/debouncing-with-react-hooks-jci\n                </div>\n              </li>\n            </ul>\n          </div>\n          <h1 className=\"wrapper-padding section-header\">Projects</h1>\n          <div className=\"portfolio-container\">\n            <div className=\"portfolio-card-wrapper\">\n              <InsightAnalyticsCard></InsightAnalyticsCard>\n            </div>\n            <div className=\"portfolio-card-wrapper\">\n              <AlphaCapCard></AlphaCapCard>\n            </div>\n            <div className=\"portfolio-card-wrapper\">\n              <CRBCard></CRBCard>\n            </div>\n            <div ref={this.alertingRef} className=\"portfolio-card-wrapper\">\n              <AlertingCard active={alertingActive}></AlertingCard>\n            </div>\n\n            {/* jon added the squiggly so it immediately renders */}\n            {/* {portfolioData.map((portfolio, i) => {\n                return <PortfolioCard key={i} data={portfolio} />;\n              })} */}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}