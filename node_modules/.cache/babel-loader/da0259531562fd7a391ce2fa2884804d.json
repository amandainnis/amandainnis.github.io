{"ast":null,"code":"import _slicedToArray from \"/Users/amandainnis/ReactProjects/react-site/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/amandainnis/ReactProjects/react-site/portfolio/src/components/insightAnalytics/InsightAnalyticsCard.js\";\nimport React, { useEffect, createRef, useState } from \"react\";\nimport * as Common from \"../reusable/common\";\nimport CardFooter from \"../reusable/Card-Footer\";\n\nconst imgInsightAnalytics = require(\"../../assets/images/drilldown_client-thumb.png\");\n\nconst data = {\n  id: 1,\n  img: imgInsightAnalytics,\n  title: \"Analytics\",\n  subtitle: \"A Client Data Dashboard\",\n  blurb: [\"Insight Analytics new containerized desktop application within the harbor framework.  It will provide analytical and reporting capabilities to Research Sales, Sales Traders and COO/Operations/Finance/Capital Markets personas.\", \"To showcase a user's client universe as relates to top buys / sells, client value, monthly CV totals with YOY comparison, CV by product, sector totals, percent change, sectors by client type. To focus or drilldown on these specific attributes--as well as readership, touchpoint and 13F dataâ€“as they relate to a client / ticker / sector \"],\n  bkgd: \"var(--analytics-bkgd)\"\n};\nconst backupPlan = [{\n  \"Rank A: Real-Time Performance\": {\n    \"Consumer Discretionary\": \"1.57\",\n    \"Communication Services\": \"1.43\",\n    Energy: \"1.31\",\n    Materials: \"1.30\",\n    Industrials: \"1.16\",\n    \"Information Technology\": \"1.06\",\n    Financials: \"0.77\",\n    \"Real Estate\": \"0.22\",\n    \"Health Care\": \"-0.33\",\n    \"Consumer Staples\": \"-0.48\",\n    Utilities: \"-0.88\"\n  }\n}];\nconst sectorUrl = \"https://www.alphavantage.co/query?function=SECTOR&apikey=NKT90SOYWKFBP04F\";\n\nfunction InsightAnalyticsCard(props) {\n  const _useState = useState(true),\n        _useState2 = _slicedToArray(_useState, 2),\n        isLoading = _useState2[0],\n        setIsLoading = _useState2[1];\n\n  const _useState3 = useState(true),\n        _useState4 = _slicedToArray(_useState3, 2),\n        cardVisible = _useState4[0],\n        setCardVisible = _useState4[1];\n\n  const _useState5 = useState([]),\n        _useState6 = _slicedToArray(_useState5, 2),\n        sectorData = _useState6[0],\n        setSectorData = _useState6[1];\n\n  async function asyncFetch() {\n    try {\n      const res = await fetch(sectorUrl);\n      const myData = await res.json();\n      let reformattedData = addWidth(myData[\"Rank A: Real-Time Performance\"]); // console.log(reformattedData);\n\n      setIsLoading(false);\n      setSectorData(reformattedData);\n    } catch (err) {\n      console.log(err);\n      let reformattedData = addWidthRandom(backupPlan[0][\"Rank A: Real-Time Performance\"]);\n      setIsLoading(false);\n      setSectorData(reformattedData);\n    }\n  }\n\n  function mapSectorBackgrounds(value) {\n    if (value === \"Communication Services\") {\n      return \"var(--comm-services)\";\n    } else if (value === \"Consumer Discretionary\") {\n      return \"var(--con-discretionary)\";\n    } else if (value === \"Consumer Staples\") {\n      return \"var(--con-staples)\";\n    } else if (value === \"Energy\") {\n      return \"var(--energy)\";\n    } else if (value === \"Financials\") {\n      return \"var(--financials)\";\n    } else if (value === \"Health Care\") {\n      return \"var(--healthcare)\";\n    } else if (value === \"Industrials\") {\n      return \"var(--industrials)\";\n    } else if (value === \"Information Technology\") {\n      return \"var(--info-tech)\";\n    } else if (value === \"Materials\") {\n      return \"var(--materials)\";\n    } else if (value === \"Real Estate\") {\n      return \"var(--real-estate)\";\n    } else if (value === \"Utilities\") {\n      return \"var(--utilities)\";\n    }\n  }\n\n  function addWidth(res) {\n    let newObject = mapObject(res);\n    newObject = Common.bubbleSort(newObject); // console.log(newObject[0]);\n\n    let maxA = newObject[0].val;\n    let maxB = newObject[newObject.length - 1].val;\n    let max = Math.abs(maxA) > Math.abs(maxB) ? maxA : maxB;\n    let finalObject = newObject.map(item => {\n      let width = Math.abs(Math.round(item.val / max * 1000) / 10);\n      let color = mapSectorBackgrounds(item.name);\n      return {\n        name: item.name,\n        val: item.val,\n        isNegative: item.isNegative,\n        width: width,\n        color: color\n      };\n    }); // console.log(finalObject);\n\n    return finalObject;\n  }\n\n  function addWidthRandom(res) {\n    let newObject = mapObject(res); // console.log(newObject[0]);\n\n    let maxA = newObject[0].val;\n    let maxB = newObject[newObject.length - 1].val;\n    let max = Math.abs(maxA) > Math.abs(maxB) ? maxA : maxB; // fix the max and fix the weird decimal\n\n    let finalObject = newObject.map(item => {\n      let itemVal = Math.random() * item.val;\n      let width = Math.abs(Math.round(itemVal / max * 1000) / 10);\n      let color = mapSectorBackgrounds(item.name);\n      return {\n        name: item.name,\n        val: itemVal,\n        isNegative: item.isNegative,\n        width: width,\n        color: color\n      };\n    });\n    finalObject = Common.bubbleSort(finalObject); // console.log(finalObject);\n\n    return finalObject;\n  }\n\n  function mapObject(res) {\n    let tempArr = [];\n    Object.entries(res).map((res, i) => {\n      // console.log(res);\n      let temp = res[1].replace(/\\%/, \"\");\n      temp = parseFloat(temp);\n      let isNegative = temp < 0 ? true : false;\n      return tempArr.push({\n        name: res[0],\n        val: temp,\n        isNegative: isNegative\n      });\n    });\n    return tempArr;\n  }\n\n  function viewRole() {\n    if (cardVisible) {\n      setCardVisible(false);\n    } else {\n      setCardVisible(true);\n    }\n  }\n\n  useEffect(() => {\n    asyncFetch();\n  }, []);\n  return React.createElement(\"article\", {\n    className: \"portfolio-card\",\n    style: {\n      backgroundColor: data.bkgd\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, cardVisible && React.createElement(\"div\", {\n    className: \"inner-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"text-section\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163\n    },\n    __self: this\n  }, data.title), React.createElement(\"h4\", {\n    className: \"subtitle\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164\n    },\n    __self: this\n  }, data.subtitle)), React.createElement(\"div\", {\n    className: \"flex-row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"bar-graph-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"bar-graph\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, sectorData !== null && sectorData.map((res, i) => {\n    if (res.val >= 0) {\n      return React.createElement(\"div\", {\n        key: i,\n        className: \"flex-row-center narrow-row-height panel-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"colA\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"colB\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"proportion-bar d-flex relative\",\n        style: {\n          width: res.width + \"%\",\n          backgroundColor: res.color\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"percent-class right-absolute\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, res.val, \"%\"), React.createElement(\"div\", {\n        className: \"flex1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      })));\n    } else {\n      return React.createElement(\"div\", {\n        key: i,\n        className: \"flex-row-center narrow-row-height panel-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"colA\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"proportion-bar d-flex relative\",\n        style: {\n          width: res.width + \"%\",\n          backgroundColor: res.color\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 201\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"percent-class left-absolute\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }, res.val, \"%\"), React.createElement(\"div\", {\n        className: \"flex1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"colB\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }));\n    }\n  }))), React.createElement(\"div\", {\n    className: \"legend\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }, sectorData.current !== null && sectorData.map((res, i) => {\n    return React.createElement(\"div\", {\n      key: \"legend-\".concat(i),\n      className: \"flex-row-center narrow-row-height\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"square\",\n      style: {\n        backgroundColor: res.color\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"title cursor-pointer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, res.name));\n  })))), !cardVisible && React.createElement(\"div\", {\n    className: \"inner-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 244\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"text-section\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246\n    },\n    __self: this\n  }, \"About\")), React.createElement(\"div\", {\n    className: \"role\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"text-width\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250\n    },\n    __self: this\n  }, \"It began as an award-winning 2019 hackathon project, of which I was the project manager, sole designer and one of the developers. It was later picked up by another group in the bank and grew into a production application\")), React.createElement(\"div\", {\n    className: \"text-section\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"title mt-5\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258\n    },\n    __self: this\n  }, \"My Role\")), React.createElement(\"div\", {\n    className: \"role\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"text-width\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263\n    },\n    __self: this\n  }, \"Prod Application: \"), \"UX, UI, Angular, D3.js, SCSS\")), React.createElement(\"div\", {\n    className: \"role\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 275\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276\n    },\n    __self: this\n  }, \"Portfolio Spinoff\"), React.createElement(\"ul\", {\n    className: \"disc\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278\n    },\n    __self: this\n  }, \"Design, React, D3.js, SCSS\")))), React.createElement(CardFooter, {\n    roleBool: cardVisible,\n    viewRole: viewRole,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 289\n    },\n    __self: this\n  }));\n}\n\nexport default InsightAnalyticsCard;","map":{"version":3,"sources":["/Users/amandainnis/ReactProjects/react-site/portfolio/src/components/insightAnalytics/InsightAnalyticsCard.js"],"names":["React","useEffect","createRef","useState","Common","CardFooter","imgInsightAnalytics","require","data","id","img","title","subtitle","blurb","bkgd","backupPlan","Energy","Materials","Industrials","Financials","Utilities","sectorUrl","InsightAnalyticsCard","props","isLoading","setIsLoading","cardVisible","setCardVisible","sectorData","setSectorData","asyncFetch","res","fetch","myData","json","reformattedData","addWidth","err","console","log","addWidthRandom","mapSectorBackgrounds","value","newObject","mapObject","bubbleSort","maxA","val","maxB","length","max","Math","abs","finalObject","map","item","width","round","color","name","isNegative","itemVal","random","tempArr","Object","entries","i","temp","replace","parseFloat","push","viewRole","backgroundColor","current"],"mappings":"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","sourcesContent":["import React, { useEffect, createRef, useState } from \"react\";\nimport * as Common from \"../reusable/common\";\nimport CardFooter from \"../reusable/Card-Footer\";\nconst imgInsightAnalytics = require(\"../../assets/images/drilldown_client-thumb.png\");\nconst data = {\n  id: 1,\n  img: imgInsightAnalytics,\n  title: \"Analytics\",\n  subtitle: \"A Client Data Dashboard\",\n  blurb: [\n    \"Insight Analytics new containerized desktop application within the harbor framework.  It will provide analytical and reporting capabilities to Research Sales, Sales Traders and COO/Operations/Finance/Capital Markets personas.\",\n    \"To showcase a user's client universe as relates to top buys / sells, client value, monthly CV totals with YOY comparison, CV by product, sector totals, percent change, sectors by client type. To focus or drilldown on these specific attributes--as well as readership, touchpoint and 13F dataâ€“as they relate to a client / ticker / sector \"\n  ],\n  bkgd: \"var(--analytics-bkgd)\"\n};\nconst backupPlan = [\n  {\n    \"Rank A: Real-Time Performance\": {\n      \"Consumer Discretionary\": \"1.57\",\n      \"Communication Services\": \"1.43\",\n      Energy: \"1.31\",\n      Materials: \"1.30\",\n      Industrials: \"1.16\",\n      \"Information Technology\": \"1.06\",\n      Financials: \"0.77\",\n      \"Real Estate\": \"0.22\",\n      \"Health Care\": \"-0.33\",\n      \"Consumer Staples\": \"-0.48\",\n      Utilities: \"-0.88\"\n    }\n  }\n];\nconst sectorUrl =\n  \"https://www.alphavantage.co/query?function=SECTOR&apikey=NKT90SOYWKFBP04F\";\n\nfunction InsightAnalyticsCard(props) {\n  const [isLoading, setIsLoading] = useState(true);\n  const [cardVisible, setCardVisible] = useState(true);\n\n  const [sectorData, setSectorData] = useState([]);\n\n  async function asyncFetch() {\n    try {\n      const res = await fetch(sectorUrl);\n      const myData = await res.json();\n      let reformattedData = addWidth(myData[\"Rank A: Real-Time Performance\"]);\n      // console.log(reformattedData);\n      setIsLoading(false);\n      setSectorData(reformattedData);\n    } catch (err) {\n      console.log(err);\n      let reformattedData = addWidthRandom(\n        backupPlan[0][\"Rank A: Real-Time Performance\"]\n      );\n      setIsLoading(false);\n      setSectorData(reformattedData);\n    }\n  }\n\n  function mapSectorBackgrounds(value) {\n    if (value === \"Communication Services\") {\n      return \"var(--comm-services)\";\n    } else if (value === \"Consumer Discretionary\") {\n      return \"var(--con-discretionary)\";\n    } else if (value === \"Consumer Staples\") {\n      return \"var(--con-staples)\";\n    } else if (value === \"Energy\") {\n      return \"var(--energy)\";\n    } else if (value === \"Financials\") {\n      return \"var(--financials)\";\n    } else if (value === \"Health Care\") {\n      return \"var(--healthcare)\";\n    } else if (value === \"Industrials\") {\n      return \"var(--industrials)\";\n    } else if (value === \"Information Technology\") {\n      return \"var(--info-tech)\";\n    } else if (value === \"Materials\") {\n      return \"var(--materials)\";\n    } else if (value === \"Real Estate\") {\n      return \"var(--real-estate)\";\n    } else if (value === \"Utilities\") {\n      return \"var(--utilities)\";\n    }\n  }\n\n  function addWidth(res) {\n    let newObject = mapObject(res);\n    newObject = Common.bubbleSort(newObject);\n    // console.log(newObject[0]);\n    let maxA = newObject[0].val;\n    let maxB = newObject[newObject.length - 1].val;\n    let max = Math.abs(maxA) > Math.abs(maxB) ? maxA : maxB;\n\n    let finalObject = newObject.map(item => {\n      let width = Math.abs(Math.round((item.val / max) * 1000) / 10);\n      let color = mapSectorBackgrounds(item.name);\n      return {\n        name: item.name,\n        val: item.val,\n        isNegative: item.isNegative,\n        width: width,\n        color: color\n      };\n    });\n    // console.log(finalObject);\n    return finalObject;\n  }\n  function addWidthRandom(res) {\n    let newObject = mapObject(res);\n\n    // console.log(newObject[0]);\n    let maxA = newObject[0].val;\n    let maxB = newObject[newObject.length - 1].val;\n    let max = Math.abs(maxA) > Math.abs(maxB) ? maxA : maxB;\n    // fix the max and fix the weird decimal\n    let finalObject = newObject.map(item => {\n      let itemVal = Math.random() * item.val;\n      let width = Math.abs(Math.round((itemVal / max) * 1000) / 10);\n      let color = mapSectorBackgrounds(item.name);\n      return {\n        name: item.name,\n        val: itemVal,\n        isNegative: item.isNegative,\n        width: width,\n        color: color\n      };\n    });\n    finalObject = Common.bubbleSort(finalObject);\n    // console.log(finalObject);\n    return finalObject;\n  }\n  function mapObject(res) {\n    let tempArr = [];\n    Object.entries(res).map((res, i) => {\n      // console.log(res);\n      let temp = res[1].replace(/\\%/, \"\");\n      temp = parseFloat(temp);\n      let isNegative = temp < 0 ? true : false;\n      return tempArr.push({\n        name: res[0],\n        val: temp,\n        isNegative: isNegative\n      });\n    });\n    return tempArr;\n  }\n  function viewRole() {\n    if (cardVisible) {\n      setCardVisible(false);\n    } else {\n      setCardVisible(true);\n    }\n  }\n  useEffect(() => {\n    asyncFetch();\n  }, []);\n\n  return (\n    <article className=\"portfolio-card\" style={{ backgroundColor: data.bkgd }}>\n      {cardVisible && (\n        <div className=\"inner-wrapper\">\n          <div className=\"text-section\">\n            <h1 className=\"title\">{data.title}</h1>\n            <h4 className=\"subtitle\">{data.subtitle}</h4>\n          </div>\n          <div className=\"flex-row\">\n            <div className=\"bar-graph-wrapper\">\n              <div className=\"bar-graph\">\n                {/* {myData[0].val} */}\n                {sectorData !== null &&\n                  sectorData.map((res, i) => {\n                    if (res.val >= 0) {\n                      return (\n                        <div\n                          key={i}\n                          className=\"flex-row-center narrow-row-height panel-row\"\n                        >\n                          <div className=\"colA\"></div>\n                          <div className=\"colB\">\n                            <div\n                              className=\"proportion-bar d-flex relative\"\n                              style={{\n                                width: res.width + \"%\",\n                                backgroundColor: res.color\n                              }}\n                            ></div>\n                            <div className=\"percent-class right-absolute\">\n                              {res.val}%\n                            </div>\n                            <div className=\"flex1\"></div>\n                          </div>\n                        </div>\n                      );\n                    } else {\n                      return (\n                        <div\n                          key={i}\n                          className=\"flex-row-center narrow-row-height panel-row\"\n                        >\n                          <div className=\"colA\">\n                            <div\n                              className=\"proportion-bar d-flex relative\"\n                              style={{\n                                width: res.width + \"%\",\n                                backgroundColor: res.color\n                              }}\n                            ></div>\n                            <div className=\"percent-class left-absolute\">\n                              {res.val}%\n                            </div>\n                            <div className=\"flex1\"></div>\n                          </div>\n                          <div className=\"colB\"></div>\n                        </div>\n                      );\n                    }\n                  })}\n              </div>\n            </div>\n\n            <div className=\"legend\">\n              {sectorData.current !== null &&\n                sectorData.map((res, i) => {\n                  return (\n                    <div\n                      key={`legend-${i}`}\n                      className=\"flex-row-center narrow-row-height\"\n                    >\n                      <div\n                        className=\"square\"\n                        style={{\n                          backgroundColor: res.color\n                        }}\n                      ></div>\n                      <div className=\"title cursor-pointer\">{res.name}</div>\n                    </div>\n                  );\n                })}\n            </div>\n          </div>\n        </div>\n      )}\n      {!cardVisible && (\n        <div className=\"inner-wrapper\">\n          <div className=\"text-section\">\n            <h1 className=\"title\">About</h1>\n          </div>\n          <div className=\"role\">\n            {/* <div className=\"title\"></div> */}\n            <div className=\"text-width\">\n              It began as an award-winning 2019 hackathon project, of which I\n              was the project manager, sole designer and one of the developers.\n              It was later picked up by another group in the bank and grew into\n              a production application\n            </div>\n          </div>\n          <div className=\"text-section\">\n            <h1 className=\"title mt-5\">My Role</h1>\n          </div>\n\n          <div className=\"role\">\n            <div className=\"text-width\">\n              <div className=\"title\">Prod Application: </div>UX, UI, Angular,\n              D3.js, SCSS\n            </div>\n\n            {/* <ul className=\"disc\">\n              <li>Analysis, interviews, requirements</li>\n              <li>Detailed interaction specs</li>\n              <li>Wireframes, hi-fi designs</li>\n              <li>Angular prototype, D3.js visualizations</li>\n              <li>All SCSS code and theming</li>\n            </ul> */}\n          </div>\n          <div className=\"role\">\n            <div className=\"title\">Portfolio Spinoff</div>\n            <ul className=\"disc\">\n              <li>Design, React, D3.js, SCSS</li>\n            </ul>\n          </div>\n          {/* <div className=\"role\">\n            <div className=\"title\">This Prototype</div>\n            <ul className=\"disc\">\n              <li>React, D3.js, SCSS</li>\n            </ul>\n          </div> */}\n        </div>\n      )}\n      <CardFooter roleBool={cardVisible} viewRole={viewRole} />\n    </article>\n  );\n}\n\nexport default InsightAnalyticsCard;\n"]},"metadata":{},"sourceType":"module"}