{"ast":null,"code":"import _slicedToArray from \"/Users/amandainnis/ReactProjects/react-site/portfolio/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/amandainnis/ReactProjects/react-site/portfolio/src/components/home/Home.js\";\nimport React, { useState, useEffect, useRef } from \"react\"; // import portfolioData from \"./data/portfolioData\";\n\nimport AlertingCard from \"../alerting/AlertingCard\";\nimport AlphaCapCard from \"../alphaCapture/AlphaCapCard\";\nimport InsightAnalyticsCard from \"../insightAnalytics/InsightAnalyticsCard\";\nimport CRBCard from \"../crb/CRBCard\";\nimport useDebounce from \"../reusable/useDebounce\"; // import PortfolioCard from \"../portfolio-card\";\n\nimport * as Common from \"../reusable/common\";\n\nfunction Home(props) {\n  const _useState = useState(null),\n        _useState2 = _slicedToArray(_useState, 2),\n        scrollHeight = _useState2[0],\n        setScrollHeight = _useState2[1];\n\n  const _useState3 = useState(null),\n        _useState4 = _slicedToArray(_useState3, 2),\n        clientHeight = _useState4[0],\n        setClientHeight = _useState4[1];\n\n  const _useState5 = useState(null),\n        _useState6 = _slicedToArray(_useState5, 2),\n        bodyOffset = _useState6[0],\n        setBodyOffset = _useState6[1];\n\n  const _useState7 = useState(null),\n        _useState8 = _slicedToArray(_useState7, 2),\n        visibleArea = _useState8[0],\n        setVisibleArea = _useState8[1];\n\n  const _useState9 = useState(0),\n        _useState10 = _slicedToArray(_useState9, 2),\n        scrollAmount = _useState10[0],\n        setScrollAmount = _useState10[1];\n\n  const _useState11 = useState(null),\n        _useState12 = _slicedToArray(_useState11, 2),\n        alertingOffset = _useState12[0],\n        setAlertingOffset = _useState12[1];\n\n  const _useState13 = useState(null),\n        _useState14 = _slicedToArray(_useState13, 2),\n        alertingActive = _useState14[0],\n        setAlertingActive = _useState14[1];\n\n  const _useState15 = useState(true),\n        _useState16 = _slicedToArray(_useState15, 2),\n        isVisible = _useState16[0],\n        setIsVisible = _useState16[1];\n\n  const bodyRef = useRef();\n  const alertingRef = useRef();\n  const changeMeRef = useRef();\n  const scrollAmountRef = useRef(0);\n\n  function setScrollingConstants() {\n    const scrollHeight = bodyRef.current.scrollHeight;\n    const clientHeight = bodyRef.current.clientHeight;\n    const bodyOffset = bodyRef.current.offsetTop;\n    const visibleArea = bodyRef.current.clientHeight + bodyRef.current.offsetTop;\n    const scrollAmount = bodyRef.current.scrollTop;\n    const alertingOffset = alertingRef.current.offsetTop;\n    console.log(alertingOffset);\n    setScrollHeight(scrollHeight);\n    setClientHeight(clientHeight);\n    setBodyOffset(bodyOffset);\n    setVisibleArea(visibleArea);\n    setScrollAmount(scrollAmount);\n    setAlertingOffset(alertingOffset);\n  }\n\n  function setChangeClass(myRef, myClass, myTimeout) {\n    const changeMe = myRef; // this just adds the class no matter what\n    // console.log(\"outside changeme setTimeout\");\n\n    const myChangeClassTimeout = setTimeout(() => {\n      changeMe.current.classList.remove(myClass);\n      console.log(\"inside changeme setTimeout\");\n    }, myTimeout);\n\n    if (changeMe.current.classList.contains(myClass)) {\n      console.log(\"clear timeout\");\n      clearTimeout(myChangeClassTimeout);\n    }\n\n    changeMe.current.classList.add(myClass);\n  }\n\n  function setActiveAlerting(cardOffsetFromState, visibleArea, scrollAmount, myTimeout) {\n    // this tests if the thing is in view\n    if (scrollAmount > cardOffsetFromState - visibleArea) {\n      // passes it to child\n      const myAwesomeTimeout = setTimeout(() => {\n        // console.log(\"i timed out\");\n        setAlertingActive(false);\n      }, myTimeout);\n      setAlertingActive(prevState => {\n        console.log(prevState);\n\n        if (prevState === true) {\n          // console.log(\"clear timeout\");\n          clearTimeout(myAwesomeTimeout);\n        }\n\n        return true;\n      });\n    }\n  } // function handleClassAddingOnScroll(\n  //   alertingOffset,\n  //   visibleArea,\n  //   scrollAmount,\n  //   myRef,\n  //   myClass,\n  //   myTimeout\n  // ) {\n  //   // this tests if the thing is in view\n  //   if (scrollAmount > alertingOffset - visibleArea) {\n  //     console.log(\"i am in view!\");\n  //     setChangeClass(myRef, myClass, myTimeout);\n  //   }\n  // }\n\n\n  const prevScrollAmountRef = useRef(0);\n\n  const _useState17 = useState(null),\n        _useState18 = _slicedToArray(_useState17, 2),\n        iAmScrollingDown = _useState18[0],\n        setIAmScrollingDown = _useState18[1];\n\n  const handleScroll = () => {\n    // https://reactjs.org/docs/faq-functions.html#how-can-i-prevent-a-function-from-being-called-too-quickly-or-too-many-times-in-a-row\n    scrollAmountRef.current = bodyRef.current.scrollTop;\n    setScrollAmount(bodyRef.current.scrollTop);\n    console.log(scrollAmount);\n    console.log(bodyRef.current.scrollTop, scrollAmount, iAmScrollingDown);\n\n    if (prevScrollAmountRef.current < scrollAmountRef.current && !iAmScrollingDown) {\n      setIAmScrollingDown(true);\n      console.log('iAmScrollingDown', iAmScrollingDown);\n    } else if (prevScrollAmountRef.current > scrollAmountRef.current && iAmScrollingDown) {\n      setIAmScrollingDown(false);\n      console.log('iAmScrollingDown', iAmScrollingDown);\n    }\n\n    console.log('prevScrollAmountRef.current + scroll amount', prevScrollAmountRef.current, scrollAmountRef.current);\n    prevScrollAmountRef.current = scrollAmountRef.current;\n    window.requestAnimationFrame(() => {\n      setChangeClass(changeMeRef, \"blinkDivUpPlain\", 1000); // console.log({ alertingOffset });\n\n      setActiveAlerting(alertingOffset, visibleArea, scrollAmountRef.current, 5000);\n    });\n  }; // function handleScrollBetter() {\n  //   Common.debounce(handleScroll(), 500);\n  // }\n\n\n  useEffect(() => {\n    console.log(\"mounted in home\");\n    setScrollingConstants();\n    bodyRef.current.addEventListener(\"scroll\", handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll); // console.log(props)\n    //     console.log(bodyRef);\n    //     console.log(\"props inside home change change\", props);\n    //     console.log(IntersectionObserver);\n  }, [iAmScrollingDown]);\n\n  function handleResize() {\n    // https://reactjs.org/docs/faq-functions.html#how-can-i-prevent-a-function-from-being-called-too-quickly-or-too-many-times-in-a-row\n    // When we receive a scroll event, schedule an update.\n    // If we receive many updates within a frame, we'll only publish the latest value.\n    // scheduleUpdate({ x: e.clientX, y: e.clientY });\n    setScrollingConstants();\n  }\n\n  function handleResizeBetter() {\n    Common.debounce(handleResize(), 350);\n  }\n\n  useEffect(() => {\n    console.log(\"i am resizing\");\n    setScrollingConstants();\n  }, [props.myResize]); // using this to handleRouting\n  // static function getDerivedStateFromProps(nextProps, prevState) {\n  //   // console.log(nextProps, prevState);\n  //   if (nextProps.isVisible !== prevState.isVisible) {\n  //     return { isVisible: nextProps.isVisible };\n  //   } else return null;\n  // }\n\n  return React.createElement(React.Fragment, null, isVisible && React.createElement(\"div\", {\n    className: \"inner-body\" // onScroll={handleScrollBetter}\n    ,\n    ref: bodyRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"headline\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, \"Hi, I'm Amanda Innis, a designer & creative technologist\"), React.createElement(\"div\", {\n    className: \"card-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"wrapper-padding constants-info\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180\n    },\n    __self: this\n  }, React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181\n    },\n    __self: this\n  }, React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182\n    },\n    __self: this\n  }, \"window to wrapper\", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  }, bodyOffset)), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  }, \"height of wrapper\", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188\n    },\n    __self: this\n  }, clientHeight)), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191\n    },\n    __self: this\n  }, \"height visible\", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193\n    },\n    __self: this\n  }, visibleArea)), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195\n    },\n    __self: this\n  }, \"height of contents\", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  }, scrollHeight)), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }, \"cards offset\", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201\n    },\n    __self: this\n  }, alertingOffset)), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    className: \"mt-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204\n    },\n    __self: this\n  }, \"Math\")), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  }, \"cards offset - height visible\", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209\n    },\n    __self: this\n  }, alertingOffset - visibleArea)), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    className: \"mt-2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212\n    },\n    __self: this\n  }, \"Change\")), React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215\n    },\n    __self: this\n  }, \"amount scrolled\", React.createElement(\"span\", {\n    ref: changeMeRef,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217\n    },\n    __self: this\n  }, scrollAmount), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218\n    },\n    __self: this\n  }, \"the debounce article https://dev.to/gabe_ragland/debouncing-with-react-hooks-jci\")))), React.createElement(\"h1\", {\n    className: \"wrapper-padding section-header\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225\n    },\n    __self: this\n  }, \"Projects\"), React.createElement(\"div\", {\n    className: \"portfolio-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"portfolio-card-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    },\n    __self: this\n  }, React.createElement(InsightAnalyticsCard, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"portfolio-card-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230\n    },\n    __self: this\n  }, React.createElement(AlphaCapCard, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"portfolio-card-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233\n    },\n    __self: this\n  }, React.createElement(CRBCard, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    ref: alertingRef,\n    className: \"portfolio-card-wrapper\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236\n    },\n    __self: this\n  }, React.createElement(AlertingCard, {\n    active: alertingActive,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237\n    },\n    __self: this\n  }))))));\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/amandainnis/ReactProjects/react-site/portfolio/src/components/home/Home.js"],"names":["React","useState","useEffect","useRef","AlertingCard","AlphaCapCard","InsightAnalyticsCard","CRBCard","useDebounce","Common","Home","props","scrollHeight","setScrollHeight","clientHeight","setClientHeight","bodyOffset","setBodyOffset","visibleArea","setVisibleArea","scrollAmount","setScrollAmount","alertingOffset","setAlertingOffset","alertingActive","setAlertingActive","isVisible","setIsVisible","bodyRef","alertingRef","changeMeRef","scrollAmountRef","setScrollingConstants","current","offsetTop","scrollTop","console","log","setChangeClass","myRef","myClass","myTimeout","changeMe","myChangeClassTimeout","setTimeout","classList","remove","contains","clearTimeout","add","setActiveAlerting","cardOffsetFromState","myAwesomeTimeout","prevState","prevScrollAmountRef","iAmScrollingDown","setIAmScrollingDown","handleScroll","window","requestAnimationFrame","addEventListener","removeEventListener","handleResize","handleResizeBetter","debounce","myResize"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\n// import portfolioData from \"./data/portfolioData\";\nimport AlertingCard from \"../alerting/AlertingCard\";\nimport AlphaCapCard from \"../alphaCapture/AlphaCapCard\";\nimport InsightAnalyticsCard from \"../insightAnalytics/InsightAnalyticsCard\";\nimport CRBCard from \"../crb/CRBCard\";\nimport useDebounce from \"../reusable/useDebounce\";\n\n// import PortfolioCard from \"../portfolio-card\";\nimport * as Common from \"../reusable/common\";\n\nfunction Home(props) {\n  const [scrollHeight, setScrollHeight] = useState(null);\n  const [clientHeight, setClientHeight] = useState(null);\n  const [bodyOffset, setBodyOffset] = useState(null);\n  const [visibleArea, setVisibleArea] = useState(null);\n  const [scrollAmount, setScrollAmount] = useState(0);\n \n  const [alertingOffset, setAlertingOffset] = useState(null);\n  const [alertingActive, setAlertingActive] = useState(null);\n  const [isVisible, setIsVisible] = useState(true);\n\n  const bodyRef = useRef();\n  const alertingRef = useRef();\n  const changeMeRef = useRef();\n  const scrollAmountRef = useRef(0);\n\n\n  function setScrollingConstants() {\n    const scrollHeight = bodyRef.current.scrollHeight;\n    const clientHeight = bodyRef.current.clientHeight;\n    const bodyOffset = bodyRef.current.offsetTop;\n    const visibleArea =\n      bodyRef.current.clientHeight + bodyRef.current.offsetTop;\n    const scrollAmount = bodyRef.current.scrollTop;\n    const alertingOffset = alertingRef.current.offsetTop;\n    console.log(alertingOffset);\n    setScrollHeight(scrollHeight);\n    setClientHeight(clientHeight);\n    setBodyOffset(bodyOffset);\n    setVisibleArea(visibleArea);\n    setScrollAmount(scrollAmount);\n    setAlertingOffset(alertingOffset);\n  }\n  function setChangeClass(myRef, myClass, myTimeout) {\n    const changeMe = myRef;\n    // this just adds the class no matter what\n    // console.log(\"outside changeme setTimeout\");\n    const myChangeClassTimeout = setTimeout(() => {\n      changeMe.current.classList.remove(myClass);\n      console.log(\"inside changeme setTimeout\");\n    }, myTimeout);\n    if (changeMe.current.classList.contains(myClass)) {\n      console.log(\"clear timeout\");\n      clearTimeout(myChangeClassTimeout);\n    }\n    changeMe.current.classList.add(myClass);\n  }\n\n  function setActiveAlerting(\n    cardOffsetFromState,\n    visibleArea,\n    scrollAmount,\n    myTimeout\n  ) {\n    // this tests if the thing is in view\n    if (scrollAmount > cardOffsetFromState - visibleArea) {\n      // passes it to child\n      const myAwesomeTimeout = setTimeout(() => {\n        // console.log(\"i timed out\");\n        setAlertingActive(false);\n      }, myTimeout);\n      setAlertingActive(prevState => {\n        console.log(prevState);\n        if (prevState === true) {\n          // console.log(\"clear timeout\");\n          clearTimeout(myAwesomeTimeout);\n        }\n        return true;\n      });\n    }\n  }\n  // function handleClassAddingOnScroll(\n  //   alertingOffset,\n  //   visibleArea,\n  //   scrollAmount,\n  //   myRef,\n  //   myClass,\n  //   myTimeout\n  // ) {\n  //   // this tests if the thing is in view\n  //   if (scrollAmount > alertingOffset - visibleArea) {\n  //     console.log(\"i am in view!\");\n  //     setChangeClass(myRef, myClass, myTimeout);\n  //   }\n  // }\n\n  const prevScrollAmountRef = useRef(0);\n  const [iAmScrollingDown, setIAmScrollingDown] = useState(null);\n\n const handleScroll = () => {\n\n    // https://reactjs.org/docs/faq-functions.html#how-can-i-prevent-a-function-from-being-called-too-quickly-or-too-many-times-in-a-row\n    scrollAmountRef.current = bodyRef.current.scrollTop;\n    setScrollAmount(bodyRef.current.scrollTop);\n\n    console.log(scrollAmount)\n    console.log(bodyRef.current.scrollTop, scrollAmount, iAmScrollingDown);\n    if(prevScrollAmountRef.current < scrollAmountRef.current && !iAmScrollingDown) {\n \n      setIAmScrollingDown(true);\n      console.log('iAmScrollingDown', iAmScrollingDown)\n    }\n    else if(prevScrollAmountRef.current > scrollAmountRef.current && iAmScrollingDown ) {\n  \n      setIAmScrollingDown(false);\n      console.log('iAmScrollingDown', iAmScrollingDown)\n    }\n    console.log('prevScrollAmountRef.current + scroll amount', prevScrollAmountRef.current, scrollAmountRef.current)\n    prevScrollAmountRef.current = scrollAmountRef.current;\n \n    window.requestAnimationFrame(() => {\n      setChangeClass(changeMeRef, \"blinkDivUpPlain\", 1000);\n      // console.log({ alertingOffset });\n      setActiveAlerting(alertingOffset, visibleArea, scrollAmountRef.current, 5000);\n    });\n  }\n\n  // function handleScrollBetter() {\n  //   Common.debounce(handleScroll(), 500);\n  // }\n  useEffect(() => {\n    console.log(\"mounted in home\");\n    setScrollingConstants();\n    bodyRef.current.addEventListener(\"scroll\", handleScroll);\n    return () => window.removeEventListener('scroll', handleScroll);\n// console.log(props)\n//     console.log(bodyRef);\n//     console.log(\"props inside home change change\", props);\n//     console.log(IntersectionObserver);\n  }, [iAmScrollingDown]);\n  function handleResize() {\n    // https://reactjs.org/docs/faq-functions.html#how-can-i-prevent-a-function-from-being-called-too-quickly-or-too-many-times-in-a-row\n    // When we receive a scroll event, schedule an update.\n    // If we receive many updates within a frame, we'll only publish the latest value.\n    // scheduleUpdate({ x: e.clientX, y: e.clientY });\n    setScrollingConstants();\n  }\n  function handleResizeBetter() {\n    Common.debounce(handleResize(), 350);\n  }\n\n\n\n  useEffect(() => {\n    console.log(\"i am resizing\");\n    setScrollingConstants();\n  }, [props.myResize]);\n  // using this to handleRouting\n  // static function getDerivedStateFromProps(nextProps, prevState) {\n  //   // console.log(nextProps, prevState);\n  //   if (nextProps.isVisible !== prevState.isVisible) {\n  //     return { isVisible: nextProps.isVisible };\n  //   } else return null;\n  // }\n\n  return (\n    <>\n      {isVisible && (\n        <div\n          className=\"inner-body\"\n          // onScroll={handleScrollBetter}\n          ref={bodyRef}\n        >\n          <div className=\"headline\">\n            Hi, I'm Amanda Innis, a designer &amp; creative technologist\n          </div>\n\n          <div className=\"card-wrapper\">\n            <div className=\"wrapper-padding constants-info\">\n              <ul>\n                <li>\n                  window to wrapper\n                  <span>{bodyOffset}</span>\n                </li>\n                <li>\n                  height of wrapper\n                  <span>{clientHeight}</span>\n                </li>\n\n                <li>\n                  height visible\n                  <span>{visibleArea}</span>\n                </li>\n                <li>\n                  height of contents\n                  <span>{scrollHeight}</span>\n                </li>\n                <li>\n                  cards offset\n                  <span>{alertingOffset}</span>\n                </li>\n                <li>\n                  <h4 className=\"mt-2\">Math</h4>\n                </li>\n\n                <li>\n                  cards offset - height visible\n                  <span>{alertingOffset - visibleArea}</span>\n                </li>\n                <li>\n                  <h4 className=\"mt-2\">Change</h4>\n                </li>\n\n                <li>\n                  amount scrolled\n                  <span ref={changeMeRef}>{scrollAmount}</span>\n                  <div>\n                    the debounce article\n                    https://dev.to/gabe_ragland/debouncing-with-react-hooks-jci\n                  </div>\n                </li>\n              </ul>\n            </div>\n            <h1 className=\"wrapper-padding section-header\">Projects</h1>\n            <div className=\"portfolio-container\">\n              <div className=\"portfolio-card-wrapper\">\n                <InsightAnalyticsCard />\n              </div>\n              <div className=\"portfolio-card-wrapper\">\n                <AlphaCapCard />\n              </div>\n              <div className=\"portfolio-card-wrapper\">\n                <CRBCard />\n              </div>\n              <div ref={alertingRef} className=\"portfolio-card-wrapper\">\n                <AlertingCard active={alertingActive} />\n              </div>\n\n              {/* jon added the squiggly so it immediately renders */}\n              {/* {portfolioData.map((portfolio, i) => {\n            return <PortfolioCard key={i} data={portfolio} />;\n          })} */}\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}