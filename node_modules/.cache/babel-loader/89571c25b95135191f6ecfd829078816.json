{"ast":null,"code":"var _jsxFileName = \"/Users/amandainnis/ReactProjects/board-app/src/components/home/Home.js\";\nimport React from \"react\"; // import portfolioData from \"./data/portfolioData\";\n\nimport AlertingCard from \"../alerting/AlertingCard\";\nimport AlphaCapCard from \"../alphaCapture/AlphaCapCard\";\nimport InsightAnalyticsCard from \"../insightAnalytics/InsightAnalyticsCard\";\nimport CRBCard from \"../crb/CRBCard\"; // import PortfolioCard from \"../portfolio-card\";\n\nimport * as Common from \"../reusable/common\";\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.bodyRef = React.createRef();\n    this.alertingRef = React.createRef();\n    this.changeMeRef = React.createRef();\n    this.handleScroll = this.handleScroll.bind(this);\n    this.handleClassAddingOnScroll = this.handleClassAddingOnScroll.bind(this);\n    this.setScrollingConstants = this.setScrollingConstants.bind(this);\n    this.handleScrollBetter = this.handleScrollBetter.bind(this);\n    this.state = {\n      myBody: this.bodyRef,\n      myChangeMe: this.changeMeRef,\n      myAlerting: this.alertingRef,\n      scrollHeight: null,\n      clientHeight: null,\n      bodyOffset: null,\n      visibleArea: null,\n      scrollAmount: null,\n      alertingOffset: null,\n      alertingActive: null\n    };\n    console.log(\"props inside home\", props);\n  }\n\n  setChangeClass(myRef, myClass, myTimeout) {\n    const changeMe = myRef; // this just adds the class no matter what\n    // console.log(\"outside changeme setTimeout\");\n\n    const myChangeClassTimeout = setTimeout(() => {\n      changeMe.current.classList.remove(myClass);\n      console.log(\"inside changeme setTimeout\");\n    }, myTimeout);\n\n    if (changeMe.current.classList.contains(myClass)) {\n      console.log(\"clear timeout\");\n      clearTimeout(myChangeClassTimeout);\n    }\n\n    changeMe.current.classList.add(myClass);\n  }\n\n  setActiveChangeClass(cardOffsetFromState, visibleArea, scrollAmount, myStateKey, myTimeout) {\n    // this tests if the thing is in view\n    if (scrollAmount > cardOffsetFromState - visibleArea) {\n      // passes it to child\n      const myAwesomeTimeout = setTimeout(() => {\n        // console.log(\"i timed out\");\n        this.setState({\n          [myStateKey]: false\n        });\n      }, myTimeout);\n      this.setState(prevState => {\n        // console.log(prevState[myStateKey]);\n        if (prevState[myStateKey] === true) {\n          // console.log(\"clear timeout\");\n          clearTimeout(myAwesomeTimeout);\n        }\n\n        return {\n          [myStateKey]: true\n        };\n      });\n    }\n  }\n\n  handleClassAddingOnScroll(alertingOffset, visibleArea, scrollAmount, myRef, myClass, myTimeout) {\n    // this tests if the thing is in view\n    if (scrollAmount > alertingOffset - visibleArea) {\n      this.setChangeClass(myRef, myClass, myTimeout);\n    }\n  }\n\n  handleScroll() {\n    // https://reactjs.org/docs/faq-functions.html#how-can-i-prevent-a-function-from-being-called-too-quickly-or-too-many-times-in-a-row\n    const scrollAmount = this.state.myBody.current.scrollTop;\n    const alertingOffset = this.state.alertingOffset;\n    const visibleArea = this.state.visibleArea;\n    this.setState({\n      scrollAmount: scrollAmount\n    });\n    window.requestAnimationFrame(() => {\n      this.setChangeClass(this.state.myChangeMe, \"blinkDivUpPlain\", 1000);\n      this.setActiveChangeClass(alertingOffset, visibleArea, scrollAmount, \"alertingActive\", 5000);\n    });\n  }\n\n  handleScrollBetter() {\n    Common.debounce(this.handleScroll(), 500);\n  }\n\n  handleResize() {\n    // https://reactjs.org/docs/faq-functions.html#how-can-i-prevent-a-function-from-being-called-too-quickly-or-too-many-times-in-a-row\n    // When we receive a scroll event, schedule an update.\n    // If we receive many updates within a frame, we'll only publish the latest value.\n    // this.scheduleUpdate({ x: e.clientX, y: e.clientY });\n    this.setScrollingConstants();\n  }\n\n  handleResizeBetter() {\n    Common.debounce(this.handleResize(), 350);\n  }\n\n  setScrollingConstants() {\n    const scrollHeight = this.state.myBody.current.scrollHeight;\n    const clientHeight = this.state.myBody.current.clientHeight;\n    const bodyOffset = this.state.myBody.current.offsetTop;\n    const visibleArea = this.state.myBody.current.clientHeight + this.state.myBody.current.offsetTop;\n    const scrollAmount = this.state.myBody.current.scrollTop;\n    const alertingOffset = this.state.myAlerting.current.offsetTop;\n    this.setState({\n      scrollHeight: scrollHeight,\n      clientHeight: clientHeight,\n      bodyOffset: bodyOffset,\n      visibleArea: visibleArea,\n      scrollAmount: scrollAmount,\n      alertingOffset: alertingOffset\n    });\n  }\n\n  componentDidMount() {\n    console.log(\"mounted in home\");\n    console.log(this.state.myBody);\n    console.log(this.bodyRef);\n    this.setScrollingConstants();\n    this.bodyRef.current.addEventListener(\"scroll\", this.handleScrollBetter.bind(this));\n  }\n\n  componentDidUpdate(prevProps, prevState) {}\n\n  render() {\n    const scrollData = {\n      scrollHeight: this.state.scrollHeight,\n      clientHeight: this.state.clientHeight,\n      bodyOffset: this.state.bodyOffset,\n      visibleArea: this.state.visibleArea,\n      scrollAmount: this.state.scrollAmount,\n      alertingOffset: this.state.alertingOffset,\n      alertingActive: this.state.alertingActive\n    };\n    return React.createElement(\"div\", {\n      className: \"inner-body\" // onScroll={this.handleScrollBetter}\n      ,\n      ref: this.bodyRef,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"headline\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"Hi, I'm Amanda Innis, a designer & creative technologist\"), React.createElement(\"div\", {\n      className: \"card-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wrapper-padding constants-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"window to wrapper\", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, scrollData.bodyOffset)), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, \"height of wrapper\", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, scrollData.clientHeight)), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, \"height visible\", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, scrollData.visibleArea)), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"height of contents\", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, scrollData.scrollHeight)), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, \"cards offset\", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, scrollData.alertingOffset)), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"mt-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, \"Math\")), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, \"cards offset - height visible\", React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, scrollData.alertingOffset - scrollData.visibleArea)), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      className: \"mt-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }, \"Change\")), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, \"amount scrolled\", React.createElement(\"span\", {\n      ref: this.changeMeRef,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }, scrollData.scrollAmount), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, \"the debounce article https://dev.to/gabe_ragland/debouncing-with-react-hooks-jci\")))), React.createElement(\"h1\", {\n      className: \"wrapper-padding section-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, \"Projects\"), React.createElement(\"div\", {\n      className: \"portfolio-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"portfolio-card-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    }, React.createElement(InsightAnalyticsCard, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"portfolio-card-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, React.createElement(AlphaCapCard, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"portfolio-card-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, React.createElement(CRBCard, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      ref: this.alertingRef,\n      className: \"portfolio-card-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(AlertingCard, {\n      active: scrollData.alertingActive,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["/Users/amandainnis/ReactProjects/board-app/src/components/home/Home.js"],"names":["React","AlertingCard","AlphaCapCard","InsightAnalyticsCard","CRBCard","Common","Home","Component","constructor","props","bodyRef","createRef","alertingRef","changeMeRef","handleScroll","bind","handleClassAddingOnScroll","setScrollingConstants","handleScrollBetter","state","myBody","myChangeMe","myAlerting","scrollHeight","clientHeight","bodyOffset","visibleArea","scrollAmount","alertingOffset","alertingActive","console","log","setChangeClass","myRef","myClass","myTimeout","changeMe","myChangeClassTimeout","setTimeout","current","classList","remove","contains","clearTimeout","add","setActiveChangeClass","cardOffsetFromState","myStateKey","myAwesomeTimeout","setState","prevState","scrollTop","window","requestAnimationFrame","debounce","handleResize","handleResizeBetter","offsetTop","componentDidMount","addEventListener","componentDidUpdate","prevProps","render","scrollData"],"mappings":"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","sourcesContent":["import React from \"react\";\n// import portfolioData from \"./data/portfolioData\";\nimport AlertingCard from \"../alerting/AlertingCard\";\nimport AlphaCapCard from \"../alphaCapture/AlphaCapCard\";\nimport InsightAnalyticsCard from \"../insightAnalytics/InsightAnalyticsCard\";\nimport CRBCard from \"../crb/CRBCard\";\n// import PortfolioCard from \"../portfolio-card\";\nimport * as Common from \"../reusable/common\";\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.bodyRef = React.createRef();\n    this.alertingRef = React.createRef();\n    this.changeMeRef = React.createRef();\n    this.handleScroll = this.handleScroll.bind(this);\n    this.handleClassAddingOnScroll = this.handleClassAddingOnScroll.bind(this);\n    this.setScrollingConstants = this.setScrollingConstants.bind(this);\n    this.handleScrollBetter = this.handleScrollBetter.bind(this);\n\n    this.state = {\n      myBody: this.bodyRef,\n      myChangeMe: this.changeMeRef,\n      myAlerting: this.alertingRef,\n      scrollHeight: null,\n      clientHeight: null,\n      bodyOffset: null,\n      visibleArea: null,\n      scrollAmount: null,\n      alertingOffset: null,\n      alertingActive: null\n    };\n\n    console.log(\"props inside home\", props);\n  }\n  setChangeClass(myRef, myClass, myTimeout) {\n    const changeMe = myRef;\n    // this just adds the class no matter what\n    // console.log(\"outside changeme setTimeout\");\n    const myChangeClassTimeout = setTimeout(() => {\n      changeMe.current.classList.remove(myClass);\n      console.log(\"inside changeme setTimeout\");\n    }, myTimeout);\n    if (changeMe.current.classList.contains(myClass)) {\n      console.log(\"clear timeout\");\n      clearTimeout(myChangeClassTimeout);\n    }\n    changeMe.current.classList.add(myClass);\n  }\n\n  setActiveChangeClass(\n    cardOffsetFromState,\n    visibleArea,\n    scrollAmount,\n    myStateKey,\n    myTimeout\n  ) {\n    // this tests if the thing is in view\n    if (scrollAmount > cardOffsetFromState - visibleArea) {\n      // passes it to child\n      const myAwesomeTimeout = setTimeout(() => {\n        // console.log(\"i timed out\");\n        this.setState({ [myStateKey]: false });\n      }, myTimeout);\n      this.setState(prevState => {\n        // console.log(prevState[myStateKey]);\n        if (prevState[myStateKey] === true) {\n          // console.log(\"clear timeout\");\n          clearTimeout(myAwesomeTimeout);\n        }\n        return { [myStateKey]: true };\n      });\n    }\n  }\n  handleClassAddingOnScroll(\n    alertingOffset,\n    visibleArea,\n    scrollAmount,\n    myRef,\n    myClass,\n    myTimeout\n  ) {\n    // this tests if the thing is in view\n    if (scrollAmount > alertingOffset - visibleArea) {\n      this.setChangeClass(myRef, myClass, myTimeout);\n    }\n  }\n\n  handleScroll() {\n    // https://reactjs.org/docs/faq-functions.html#how-can-i-prevent-a-function-from-being-called-too-quickly-or-too-many-times-in-a-row\n\n    const scrollAmount = this.state.myBody.current.scrollTop;\n    const alertingOffset = this.state.alertingOffset;\n    const visibleArea = this.state.visibleArea;\n    this.setState({\n      scrollAmount: scrollAmount\n    });\n    window.requestAnimationFrame(() => {\n      this.setChangeClass(this.state.myChangeMe, \"blinkDivUpPlain\", 1000);\n      this.setActiveChangeClass(\n        alertingOffset,\n        visibleArea,\n        scrollAmount,\n        \"alertingActive\",\n        5000\n      );\n    });\n  }\n\n  handleScrollBetter() {\n    Common.debounce(this.handleScroll(), 500);\n  }\n\n  handleResize() {\n    // https://reactjs.org/docs/faq-functions.html#how-can-i-prevent-a-function-from-being-called-too-quickly-or-too-many-times-in-a-row\n    // When we receive a scroll event, schedule an update.\n    // If we receive many updates within a frame, we'll only publish the latest value.\n    // this.scheduleUpdate({ x: e.clientX, y: e.clientY });\n    this.setScrollingConstants();\n  }\n  handleResizeBetter() {\n    Common.debounce(this.handleResize(), 350);\n  }\n  setScrollingConstants() {\n    const scrollHeight = this.state.myBody.current.scrollHeight;\n    const clientHeight = this.state.myBody.current.clientHeight;\n    const bodyOffset = this.state.myBody.current.offsetTop;\n    const visibleArea =\n      this.state.myBody.current.clientHeight +\n      this.state.myBody.current.offsetTop;\n    const scrollAmount = this.state.myBody.current.scrollTop;\n    const alertingOffset = this.state.myAlerting.current.offsetTop;\n\n    this.setState({\n      scrollHeight: scrollHeight,\n      clientHeight: clientHeight,\n      bodyOffset: bodyOffset,\n      visibleArea: visibleArea,\n      scrollAmount: scrollAmount,\n      alertingOffset: alertingOffset\n    });\n  }\n  componentDidMount() {\n    console.log(\"mounted in home\");\n    console.log(this.state.myBody);\n    console.log(this.bodyRef);\n\n    this.setScrollingConstants();\n    this.bodyRef.current.addEventListener(\n      \"scroll\",\n      this.handleScrollBetter.bind(this)\n    );\n  }\n  componentDidUpdate(prevProps, prevState) {}\n  render() {\n    const scrollData = {\n      scrollHeight: this.state.scrollHeight,\n      clientHeight: this.state.clientHeight,\n      bodyOffset: this.state.bodyOffset,\n      visibleArea: this.state.visibleArea,\n      scrollAmount: this.state.scrollAmount,\n      alertingOffset: this.state.alertingOffset,\n      alertingActive: this.state.alertingActive\n    };\n    return (\n      <div\n        className=\"inner-body\"\n        // onScroll={this.handleScrollBetter}\n        ref={this.bodyRef}\n      >\n        <div className=\"headline\">\n          Hi, I'm Amanda Innis, a designer &amp; creative technologist\n        </div>\n\n        <div className=\"card-wrapper\">\n          <div className=\"wrapper-padding constants-info\">\n            <ul>\n              <li>\n                window to wrapper\n                <span>{scrollData.bodyOffset}</span>\n              </li>\n              <li>\n                height of wrapper\n                <span>{scrollData.clientHeight}</span>\n              </li>\n\n              <li>\n                height visible\n                <span>{scrollData.visibleArea}</span>\n              </li>\n              <li>\n                height of contents\n                <span>{scrollData.scrollHeight}</span>\n              </li>\n              <li>\n                cards offset\n                <span>{scrollData.alertingOffset}</span>\n              </li>\n              <li>\n                <h4 className=\"mt-2\">Math</h4>\n              </li>\n\n              <li>\n                cards offset - height visible\n                <span>\n                  {scrollData.alertingOffset - scrollData.visibleArea}\n                </span>\n              </li>\n              <li>\n                <h4 className=\"mt-2\">Change</h4>\n              </li>\n\n              <li>\n                amount scrolled\n                <span ref={this.changeMeRef}>{scrollData.scrollAmount}</span>\n                <div>\n                  the debounce article\n                  https://dev.to/gabe_ragland/debouncing-with-react-hooks-jci\n                </div>\n              </li>\n            </ul>\n          </div>\n          <h1 className=\"wrapper-padding section-header\">Projects</h1>\n          <div className=\"portfolio-container\">\n            <div className=\"portfolio-card-wrapper\">\n              <InsightAnalyticsCard></InsightAnalyticsCard>\n            </div>\n            <div className=\"portfolio-card-wrapper\">\n              <AlphaCapCard></AlphaCapCard>\n            </div>\n            <div className=\"portfolio-card-wrapper\">\n              <CRBCard></CRBCard>\n            </div>\n            <div ref={this.alertingRef} className=\"portfolio-card-wrapper\">\n              <AlertingCard active={scrollData.alertingActive}></AlertingCard>\n            </div>\n\n            {/* jon added the squiggly so it immediately renders */}\n            {/* {portfolioData.map((portfolio, i) => {\n                return <PortfolioCard key={i} data={portfolio} />;\n              })} */}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}